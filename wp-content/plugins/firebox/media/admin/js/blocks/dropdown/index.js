(()=>{var e={4184:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)){if(n.length){var l=o.apply(null,n);l&&e.push(l)}}else if("object"===i){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var a in n)r.call(n,a)&&n[a]&&e.push(a)}}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},2703:(e,t,n)=>{"use strict";var r=n(414);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,l){if(l!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},5697:(e,t,n)=>{e.exports=n(2703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},9281:(e,t,n)=>{"use strict";var r=n(7889);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,l){if(l!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},1277:(e,t,n)=>{e.exports=n(9281)()},7889:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=window.wp.blocks,t=window.React;var r=n.n(t);const o=window.wp.element,i=window.wp.data;var l=n(5697),a=n.n(l);const s=window.wp.blockEditor;var c=n(4184),u=n.n(c);const d=e=>`field-${e}`;class h extends t.Component{constructor(){super(...arguments)}render(){this.props?.fieldProps?.className&&(this.props.fieldProps.className+=" fb-form-control-group"),this.props?.attributes?.cssClass&&(this.props.fieldProps.className+=" "+this.props.attributes.cssClass);let e=this?.props?.attributes?.fieldLabelRequiredFieldIndication||!1;return(0,t.createElement)("div",{...this.props.fieldProps},""!==this.props.attributes.fieldLabel&&!this.props.attributes.hideLabel&&(0,t.createElement)("label",{className:"fb-form-control-label",htmlFor:`fb-form-input-${this.props.fieldProps["data-field-id"]}`},this.props.attributes.fieldLabel,e&&this.props.attributes.required&&(0,t.createElement)("span",{className:"fb-form-control-required"},"*")),(0,t.createElement)("div",{className:"fb-form-control-input"},this.getInput()),""!==this.props.attributes.helpText&&(0,t.createElement)("div",{className:"fb-form-control-helptext"},this.props.attributes.helpText))}getInput(){}}const p=h,f=class extends p{getInput(){var e;let n={};this.props.attributes.required&&(n.required="required");const r=this.props.attributes.choices.filter((e=>e.default));let o="";return 1===r.length&&(""!==r[0].value?o=r[0].value:""!==r[0].label&&(o=r[0].label)),this.props.attributes.defaultValue&&(o=this.props.attributes.defaultValue),o||""===this.props.attributes.placeholder||(o=""),(0,t.createElement)("div",{className:"fb-form-select-wrapper"},(0,t.createElement)("select",{name:`fb_form[${this.props.attributes.fieldName}]`,...n,id:`fb-form-input-${this.props.fieldProps["data-field-id"]}`,className:u()("fb-form-input",this.props.attributes.inputCssClass),onChange:()=>{},value:null!==(e=o)&&void 0!==e?e:void 0},""!==this.props.attributes.placeholder&&(0,t.createElement)("option",{disabled:!0,value:""},this.props.attributes.placeholder),this.props.attributes.choices.map((function(e,n){var r;const o=""!==e.value?e.value:e.label;return(0,t.createElement)("option",{key:n,value:o,disabled:null!==(r=e?.disabled)&&void 0!==r&&r},e.label||"Choice Label")}))))}};var b=n(1277),v=n.n(b);const g=window.wp.i18n,m=e=>!!e&&Object.values(e).some((e=>null!=e&&""!==e)),w={desktop:"",tablet:991,mobile:575},y=(e=[])=>{if(!e||!e.length)return[];const t=e.reduce(((e,t)=>{const n=(e=>{if(!e)return"";const t=e.match(/[^{\}]+(?=})/gi)[0];return{selector:e.replace(t,"").replace("{","").replace("}","").trim(),style:t.trim()}})(t),r=e.find((({selector:e})=>e===n.selector));return r?(r.styles.push(n.style),e):(e.push({selector:n.selector,styles:[n.style]}),e)}),[]);return t.map((e=>`${e.selector} { ${e.styles.join(" ")} }`))},x=e=>({...e,rules:y(e.rules)}),C=({id:e,value:t,rule:n,unit:r="",edgeCase:o,breakpoint:i="desktop",oneline:l=!1})=>{if(null==t||""===t)return null;let a=n.includes("[BLOCK_ID]")?n.replace("[BLOCK_ID]",e):`${n}`;if((e=>["box-shadow"].some((t=>e.includes(t))))(n))return["inset","outset"].includes(t.type)&&""!==t.color?(0,g.sprintf)(a,`${t.left}px ${t.top}px ${t.width}px ${t.spread}px ${"outset"===t.type?"":t.type} ${t.color}`):null;if((e=>["text-shadow"].some((t=>e.includes(t))))(n))return""!==t.hpos&&""!==t.vpos&&""!==t.blur&&""!==t.color?(0,g.sprintf)(a,`${t.hpos}px ${t.vpos}px ${t.blur}px ${t.color}`):null;if((e=>["padding","border-radius","margin","position-items"].some((t=>e.includes(t)))&&!["padding-","margin-"].some((t=>e.includes(t))))(n)){let e=n.match(/margin|border-radius|padding|position-items/gi)[0];if("position-items"===e){const e=["top","right","bottom","left"].map((e=>{if(null!=t[e]&&""!==t[e])return`${e}: ${"auto"===t[e]?"auto":`${t[e]}${r}`};`})).join(" ");return e.trim()?(s=` ${e} `,a.replace(/[^{\}]+(?=})/gi,s)):null}{const n=((e,t,n="",r=!1)=>{if(!e)return!1;if(m(e)||m(e[t])){const o=e[t]||e;if(["margin","padding"].includes(n)){if(4===Object.values(o).length&&1===new Set(Object.values(o)).size)return`${o.top}px`;if(Object.values(o).every((e=>""!==e))){if(o.top===o.bottom&&o.left===o.right)return`${o.top||0}px ${o.left||0}px`;Object.values(o).map((function(e){return`${e||0}px`})).join(" ")}let e=[],t=["top","right","bottom","left"];return r?(t.forEach((t=>{e.push(`${o[t]||0}px`)})),e.join(" ")):(t.forEach((t=>{""!==o[t]&&e.push(n+"-"+t+":"+o[t]+"px;")})),e)}if("border-radius"===n){if(4===Object.values(o).length&&1===new Set(Object.values(o)).size)return`${o.top_left}px`;if(Object.values(o).every((e=>""!==e))){if(o.top_left===o.bottom_right&&o.bottom_left===o.top_right)return`${o.top_left||0}px ${o.bottom_left||0}px`;Object.values(o).map((function(e){return`${e||0}px`})).join(" ")}let e=[],t=["top_left","top_right","bottom_right","bottom_left"];return r?(t.forEach((t=>{e.push(`${o[t]||0}px`)})),e.join(" ")):(t.forEach((t=>{""!==o[t]&&e.push("border-"+t.replace("_","-")+"-radius:"+o[t]+"px;")})),e)}}return!1})(t,null,e,l);if(!n)return null;if(n&&"string"==typeof n)return(0,g.sprintf)(a,n)||null;if(n&&"object"==typeof n)return a=a.replace("margin: ",""),a=a.replace("padding: ",""),a=a.replace("border-radius: ",""),a=a.replace("%s;","%s"),(0,g.sprintf)(a,n.join(""))||null}}var s;if((e=>!!e&&"object"==typeof e&&"url"in e&&"attachment"in e&&"repeat"in e)(t)){if(!t.url)return;const e=[`background-image: ${"none"!==t.url?`url(${t.url})`:"none"};`,`background-repeat: ${t.repeat};`,`background-size: ${t.size};`,`background-position: ${t.position};`,`background-attachment: ${t.attachment};`].join(" ");return(0,g.sprintf)(a,e)}if(o){const e=o.find((({edge:e})=>e===t));if(e)return""===e.value||e.skipInBreakpoints&&e.skipInBreakpoints.includes(i)?null:(r=e.unit||"",(0,g.sprintf)(a,`${e.value}${r}`))}return(0,g.sprintf)(a,`${t}${r}`)},E=e=>o.Children.toArray(e).map((e=>Array.isArray(e.props.children)?E(e.props.children):e)).reduce(((e,t)=>Array.isArray(t)?[...e,...t]:[...e,t]),[]).filter((e=>e.type&&"Rule"===e.type.displayName)),k={children:v().oneOfType([v().node,v().array]),id:v().string},R=({id:e="",children:n})=>{const r=(({id:e,children:t,getCSSRule:n,mapper:r=(e=>e)})=>{const o=[{name:"desktop",media:"max",width:w.desktop,rules:[]},{name:"tablet",media:"max",width:w.tablet,rules:[]},{name:"mobile",media:"max",width:w.mobile,rules:[]},{name:"desktop-only",media:"min",width:w.tablet+1,rules:[]},{name:"tablet-only",media:"min",width:w.mobile+1,rules:[]}];return E(t).reduce(((t,r)=>{const{value:o,rule:i,unit:l,edgeCase:a,breakpointLimit:s,oneline:c}=r.props;if(null==o)return t;if("object"!=typeof o||!("desktop"in o)){const r=t.find((({name:e})=>"desktop"===e)),s=n({id:e,value:o,rule:i,unit:l,edgeCase:a,breakpoint:"desktop",oneline:c});return null!=s&&r.rules.push(s),t}return Object.keys(o).forEach((r=>{const u=t.find((({name:e})=>s&&"mobile"!==r?`${r}-only`===e:e===r)),d=n({id:e,value:o[r],rule:i,unit:l,edgeCase:a,breakpoint:r,oneline:c});null!=d&&u&&u.rules.push(d)})),t}),o).map(r)})({id:e,children:n,getCSSRule:C,mapper:x});return(e=>e.every((e=>0===e.rules.length)))(r)?null:(0,t.createElement)("style",{dangerouslySetInnerHTML:{__html:(o=r,o.reduce(((e,t)=>{if(!t.rules.length)return e;const n=t.rules.map((e=>e.trim())).join("\n");return t.width?"tablet-only"===t.name?`${e}\n\n\t\t\t\t@media (min-width: ${w.mobile+1}px) and (max-width: ${w.tablet}px) {\n\t\t\t\t\t${n}\n\t\t\t\t}\n\t\t\t\t`:`${e}\n\n\t\t\t@media (${t.media}-width: ${t.width}px) {\n\t\t\t\t${n}\n\t\t\t}\n\t\t\t`:`${e}${n}\n`}),"").trim())}});var o};R.propTypes=k;const D=R,_={value:v().oneOfType([v().string,v().number,v().object]).isRequired,rule:v().string.isRequired,unit:v().oneOf(["","px","%","em","rem","vh","vw","pt","cm","mm"]),edgeCase:v().arrayOf(v().shape({edge:v().any.isRequired,value:v().oneOfType([v().string,v().number]).isRequired,skipInBreakpoints:v().array})),breakpointLimit:v().bool,oneline:v().bool},S=()=>null;S.displayName="Rule",S.propTypes=_;const I=S,T={attributes:a().object.isRequired,children:a().node},N=({attributes:e,children:n})=>{const{uniqueId:r,width:o,fieldLabelFontWeight:i}=e,l=d(r);return(0,t.createElement)(D,{id:l},(0,t.createElement)(I,{value:o,rule:".fb-form-control-group.[BLOCK_ID] { --field-width: %s; }"}),(0,t.createElement)(I,{value:i,rule:".fb-form-control-group.[BLOCK_ID] { --label-font-weight: %s; }"}),n)};N.propTypes=T;const M=N,O=window.wp.components,L=e=>{var n,r,o,i;const{fieldTypeName:l}=e,{fieldName:a,fieldLabel:s,helpText:c,required:u}=e.attributes,d=null===(n=e?.showFieldName)||void 0===n||n,h=null===(r=e?.showFieldLabel)||void 0===r||r,p=null===(o=e?.showHelpText)||void 0===o||o,f=null===(i=e?.showRequired)||void 0===i||i;return(0,t.createElement)(O.PanelBody,{title:l+" "+__("Field","firebox"),initialOpen:!0},d&&(0,t.createElement)(O.TextControl,{label:__("Field Name","firebox"),required:!0,value:a,onChange:t=>e.setAttributes({fieldName:t}),help:__("Set a unique field name which is used to reference the form data. Enter only alphanumerics and underscores.","firebox")}),h&&(0,t.createElement)(O.TextControl,{label:__("Field Label","firebox"),value:s,onChange:t=>e.setAttributes({fieldLabel:t}),help:__("Set a label for the field. Leave blank to hide the label.","firebox")}),p&&(0,t.createElement)(O.TextControl,{label:__("Help text","firebox"),value:c,onChange:t=>e.setAttributes({helpText:t}),help:__("Set a helpful description to show below the field.","firebox")}),f&&(0,t.createElement)(O.ToggleControl,{label:__("Required","firebox"),checked:u,onChange:t=>e.setAttributes({required:t})}),e.children)},A=e=>{var n,r,o,i,l,a;const{width:s,defaultValue:c,placeholder:u,cssClass:d,inputCssClass:h,hideLabel:p,disableBrowserAutocomplete:f,fieldLabelFontWeight:b}=e.attributes,v=null===(n=e?.showWidth)||void 0===n||n,g=null===(r=e?.showDefaultValue)||void 0===r||r,m=null===(o=e?.showPlaceholder)||void 0===o||o,w=null===(i=e?.showHideLabel)||void 0===i||i,y=null===(l=e?.showDisableBrowserAutocomplete)||void 0===l||l,x=null===(a=e?.showInputCssClass)||void 0===a||a;return(0,t.createElement)(O.PanelBody,{title:__("Field Settings","firebox"),initialOpen:!1},v&&(0,t.createElement)(O.SelectControl,{label:__("Width","firebox"),options:[{label:"0%",value:"0%"},{label:"5%",value:"5%"},{label:"10%",value:"10%"},{label:"20%",value:"20%"},{label:"25%",value:"25%"},{label:"30%",value:"30%"},{label:"33%",value:"33%"},{label:"40%",value:"40%"},{label:"50%",value:"50%"},{label:"60%",value:"60%"},{label:"66%",value:"66%"},{label:"70%",value:"70%"},{label:"75%",value:"75%"},{label:"80%",value:"80%"},{label:"90%",value:"90%"},{label:"95%",value:"95%"},{label:"100%",value:"100%"}],value:s,onChange:t=>e.setAttributes({width:t})}),g&&(0,t.createElement)(O.TextareaControl,{label:__("Default Value","firebox"),value:c,onChange:t=>e.setAttributes({defaultValue:t}),help:__("Set the default field value.","firebox")}),m&&(0,t.createElement)(O.TextControl,{label:__("Placeholder Text","firebox"),value:u,onChange:t=>e.setAttributes({placeholder:t}),help:__("The text you'd like displayed in the field, before a user enters any data.","firebox")}),(0,t.createElement)(O.SelectControl,{label:__("Label Font Weight","firebox"),options:[{value:"",label:"Select Font Weight",disabled:!0},{label:__("300","firebox"),value:"300"},{label:__("400","firebox"),value:"400"},{label:__("500","firebox"),value:"500"},{label:__("600","firebox"),value:"600"},{label:__("700","firebox"),value:"700"}],value:b,onChange:t=>e.setAttributes({fieldLabelFontWeight:t})}),(0,t.createElement)(O.TextControl,{label:__("CSS Class","firebox"),value:d,onChange:t=>e.setAttributes({cssClass:t}),help:__("Add CSS Classes to the input's container. This can mainly be used for layout purposes.","firebox")}),x&&(0,t.createElement)(O.TextControl,{label:__("Input CSS Class","firebox"),value:h,onChange:t=>e.setAttributes({inputCssClass:t}),help:__("Add CSS Classes to the input element. Use this option to style the input itself.","firebox")}),w&&(0,t.createElement)(O.ToggleControl,{label:__("Hide Label","firebox"),default:!1,checked:p,onChange:t=>e.setAttributes({hideLabel:t}),help:__("Check this option to hide the form field label.","firebox")}),y&&(0,t.createElement)(O.ToggleControl,{label:__("Disable Browser Autocomplete","firebox"),default:!1,checked:f,onChange:t=>e.setAttributes({disableBrowserAutocomplete:t}),help:__("By default, browsers remember information that the user submits through input fields. To disable autocompletion in forms enable this option.","firebox")}),e.children)},B=window.ReactDOM,j="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function P(e){const t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function $(e){return"nodeType"in e}function q(e){var t,n;return e?P(e)?e:$(e)&&null!=(t=null==(n=e.ownerDocument)?void 0:n.defaultView)?t:window:window}function F(e){const{Document:t}=q(e);return e instanceof t}function H(e){return!P(e)&&e instanceof q(e).HTMLElement}function U(e){return e instanceof q(e).SVGElement}function z(e){return e?P(e)?e.document:$(e)?F(e)?e:H(e)||U(e)?e.ownerDocument:document:document:document}const V=j?t.useLayoutEffect:t.useEffect;function W(e){const n=(0,t.useRef)(e);return V((()=>{n.current=e})),(0,t.useCallback)((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return null==n.current?void 0:n.current(...t)}),[])}function K(e,n){void 0===n&&(n=[e]);const r=(0,t.useRef)(e);return V((()=>{r.current!==e&&(r.current=e)}),n),r}function Y(e,n){const r=(0,t.useRef)();return(0,t.useMemo)((()=>{const t=e(r.current);return r.current=t,t}),[...n])}function X(e){const n=W(e),r=(0,t.useRef)(null),o=(0,t.useCallback)((e=>{e!==r.current&&(null==n||n(e,r.current)),r.current=e}),[]);return[r,o]}function Z(e){const n=(0,t.useRef)();return(0,t.useEffect)((()=>{n.current=e}),[e]),n.current}let J={};function G(e,n){return(0,t.useMemo)((()=>{if(n)return n;const t=null==J[e]?0:J[e]+1;return J[e]=t,e+"-"+t}),[e,n])}function Q(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce(((t,n)=>{const r=Object.entries(n);for(const[n,o]of r){const r=t[n];null!=r&&(t[n]=r+e*o)}return t}),{...t})}}const ee=Q(1),te=Q(-1);function ne(e){if(!e)return!1;const{KeyboardEvent:t}=q(e.target);return t&&e instanceof t}function re(e){if(function(e){if(!e)return!1;const{TouchEvent:t}=q(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return function(e){return"clientX"in e&&"clientY"in e}(e)?{x:e.clientX,y:e.clientY}:null}const oe=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[oe.Translate.toString(e),oe.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),ie="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function le(e){return e.matches(ie)?e:e.querySelector(ie)}const ae={display:"none"};function se(e){let{id:t,value:n}=e;return r().createElement("div",{id:t,style:ae},n)}function ce(e){let{id:t,announcement:n,ariaLiveType:o="assertive"}=e;return r().createElement("div",{id:t,style:{position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":o,"aria-atomic":!0},n)}const ue=(0,t.createContext)(null),de={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},he={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function pe(e){let{announcements:n=he,container:o,hiddenTextDescribedById:i,screenReaderInstructions:l=de}=e;const{announce:a,announcement:s}=function(){const[e,n]=(0,t.useState)("");return{announce:(0,t.useCallback)((e=>{null!=e&&n(e)}),[]),announcement:e}}(),c=G("DndLiveRegion"),[u,d]=(0,t.useState)(!1);if((0,t.useEffect)((()=>{d(!0)}),[]),function(e){const n=(0,t.useContext)(ue);(0,t.useEffect)((()=>{if(!n)throw new Error("useDndMonitor must be used within a children of <DndContext>");return n(e)}),[e,n])}((0,t.useMemo)((()=>({onDragStart(e){let{active:t}=e;a(n.onDragStart({active:t}))},onDragMove(e){let{active:t,over:r}=e;n.onDragMove&&a(n.onDragMove({active:t,over:r}))},onDragOver(e){let{active:t,over:r}=e;a(n.onDragOver({active:t,over:r}))},onDragEnd(e){let{active:t,over:r}=e;a(n.onDragEnd({active:t,over:r}))},onDragCancel(e){let{active:t,over:r}=e;a(n.onDragCancel({active:t,over:r}))}})),[a,n])),!u)return null;const h=r().createElement(r().Fragment,null,r().createElement(se,{id:i,value:l.draggable}),r().createElement(ce,{id:c,announcement:s}));return o?(0,B.createPortal)(h,o):h}var fe;function be(){}function ve(e,n){return(0,t.useMemo)((()=>({sensor:e,options:null!=n?n:{}})),[e,n])}!function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"}(fe||(fe={}));const ge=Object.freeze({x:0,y:0});function me(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function we(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function ye(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function xe(e){let{left:t,top:n,height:r,width:o}=e;return[{x:t,y:n},{x:t+o,y:n},{x:t,y:n+r},{x:t+o,y:n+r}]}function Ce(e,t){if(!e||0===e.length)return null;const[n]=e;return t?n[t]:n}function Ee(e,t,n){return void 0===t&&(t=e.left),void 0===n&&(n=e.top),{x:t+.5*e.width,y:n+.5*e.height}}const ke=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=Ee(t,t.left,t.top),i=[];for(const e of r){const{id:t}=e,r=n.get(t);if(r){const n=me(Ee(r),o);i.push({id:t,data:{droppableContainer:e,value:n}})}}return i.sort(we)};function Re(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),l=o-r,a=i-n;if(r<o&&n<i){const n=t.width*t.height,r=e.width*e.height,o=l*a;return Number((o/(n+r-o)).toFixed(4))}return 0}const De=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=[];for(const e of r){const{id:r}=e,i=n.get(r);if(i){const n=Re(i,t);n>0&&o.push({id:r,data:{droppableContainer:e,value:n}})}}return o.sort(ye)};function _e(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:ge}function Se(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce(((t,n)=>({...t,top:t.top+e*n.y,bottom:t.bottom+e*n.y,left:t.left+e*n.x,right:t.right+e*n.x})),{...t})}}const Ie=Se(1);const Te={ignoreTransform:!1};function Ne(e,t){void 0===t&&(t=Te);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:t,transformOrigin:r}=q(e).getComputedStyle(e);t&&(n=function(e,t,n){const r=function(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}(t);if(!r)return e;const{scaleX:o,scaleY:i,x:l,y:a}=r,s=e.left-l-(1-o)*parseFloat(n),c=e.top-a-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),u=o?e.width/o:e.width,d=i?e.height/i:e.height;return{width:u,height:d,top:c,right:s+u,bottom:c+d,left:s}}(n,t,r))}const{top:r,left:o,width:i,height:l,bottom:a,right:s}=n;return{top:r,left:o,width:i,height:l,bottom:a,right:s}}function Me(e){return Ne(e,{ignoreTransform:!0})}function Oe(e,t){const n=[];return e?function r(o){if(null!=t&&n.length>=t)return n;if(!o)return n;if(F(o)&&null!=o.scrollingElement&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!H(o)||U(o))return n;if(n.includes(o))return n;const i=q(e).getComputedStyle(o);return o!==e&&function(e,t){void 0===t&&(t=q(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some((e=>{const r=t[e];return"string"==typeof r&&n.test(r)}))}(o,i)&&n.push(o),function(e,t){return void 0===t&&(t=q(e).getComputedStyle(e)),"fixed"===t.position}(o,i)?n:r(o.parentNode)}(e):n}function Le(e){const[t]=Oe(e,1);return null!=t?t:null}function Ae(e){return j&&e?P(e)?e:$(e)?F(e)||e===z(e).scrollingElement?window:H(e)?e:null:null:null}function Be(e){return P(e)?e.scrollX:e.scrollLeft}function je(e){return P(e)?e.scrollY:e.scrollTop}function Pe(e){return{x:Be(e),y:je(e)}}var $e;function qe(e){return!(!j||!e)&&e===document.scrollingElement}function Fe(e){const t={x:0,y:0},n=qe(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height};return{isTop:e.scrollTop<=t.y,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=r.y,isRight:e.scrollLeft>=r.x,maxScroll:r,minScroll:t}}!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}($e||($e={}));const He={x:.2,y:.2};function Ue(e,t,n,r,o){let{top:i,left:l,right:a,bottom:s}=n;void 0===r&&(r=10),void 0===o&&(o=He);const{isTop:c,isBottom:u,isLeft:d,isRight:h}=Fe(e),p={x:0,y:0},f={x:0,y:0},b=t.height*o.y,v=t.width*o.x;return!c&&i<=t.top+b?(p.y=$e.Backward,f.y=r*Math.abs((t.top+b-i)/b)):!u&&s>=t.bottom-b&&(p.y=$e.Forward,f.y=r*Math.abs((t.bottom-b-s)/b)),!h&&a>=t.right-v?(p.x=$e.Forward,f.x=r*Math.abs((t.right-v-a)/v)):!d&&l<=t.left+v&&(p.x=$e.Backward,f.x=r*Math.abs((t.left+v-l)/v)),{direction:p,speed:f}}function ze(e){if(e===document.scrollingElement){const{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}const{top:t,left:n,right:r,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:o,width:e.clientWidth,height:e.clientHeight}}function Ve(e){return e.reduce(((e,t)=>ee(e,Pe(t))),ge)}const We=[["x",["left","right"],function(e){return e.reduce(((e,t)=>e+Be(t)),0)}],["y",["top","bottom"],function(e){return e.reduce(((e,t)=>e+je(t)),0)}]];class Ke{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=Oe(t),r=Ve(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[e,t,o]of We)for(const i of t)Object.defineProperty(this,i,{get:()=>{const t=o(n),l=r[e]-t;return this.rect[i]+l},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Ye{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach((e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)}))},this.target=e}add(e,t,n){var r;null==(r=this.target)||r.addEventListener(e,t,n),this.listeners.push([e,t,n])}}function Xe(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return"number"==typeof t?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t&&r>t.y}var Ze,Je;function Ge(e){e.preventDefault()}function Qe(e){e.stopPropagation()}!function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"}(Ze||(Ze={})),function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"}(Je||(Je={}));const et={start:[Je.Space,Je.Enter],cancel:[Je.Esc],end:[Je.Space,Je.Enter]},tt=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Je.Right:return{...n,x:n.x+25};case Je.Left:return{...n,x:n.x-25};case Je.Down:return{...n,y:n.y+25};case Je.Up:return{...n,y:n.y-25}}};class nt{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new Ye(z(t)),this.windowListeners=new Ye(q(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Ze.Resize,this.handleCancel),this.windowListeners.add(Ze.VisibilityChange,this.handleCancel),setTimeout((()=>this.listeners.add(Ze.Keydown,this.handleKeyDown)))}handleStart(){const{activeNode:e,onStart:t}=this.props,n=e.node.current;n&&function(e,t){if(void 0===t&&(t=Ne),!e)return;const{top:n,left:r,bottom:o,right:i}=t(e);Le(e)&&(o<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}(n),t(ge)}handleKeyDown(e){if(ne(e)){const{active:t,context:n,options:r}=this.props,{keyboardCodes:o=et,coordinateGetter:i=tt,scrollBehavior:l="smooth"}=r,{code:a}=e;if(o.end.includes(a))return void this.handleEnd(e);if(o.cancel.includes(a))return void this.handleCancel(e);const{collisionRect:s}=n.current,c=s?{x:s.left,y:s.top}:ge;this.referenceCoordinates||(this.referenceCoordinates=c);const u=i(e,{active:t,context:n.current,currentCoordinates:c});if(u){const t=te(u,c),r={x:0,y:0},{scrollableAncestors:o}=n.current;for(const n of o){const o=e.code,{isTop:i,isRight:a,isLeft:s,isBottom:c,maxScroll:d,minScroll:h}=Fe(n),p=ze(n),f={x:Math.min(o===Je.Right?p.right-p.width/2:p.right,Math.max(o===Je.Right?p.left:p.left+p.width/2,u.x)),y:Math.min(o===Je.Down?p.bottom-p.height/2:p.bottom,Math.max(o===Je.Down?p.top:p.top+p.height/2,u.y))},b=o===Je.Right&&!a||o===Je.Left&&!s,v=o===Je.Down&&!c||o===Je.Up&&!i;if(b&&f.x!==u.x){const e=n.scrollLeft+t.x,i=o===Je.Right&&e<=d.x||o===Je.Left&&e>=h.x;if(i&&!t.y)return void n.scrollTo({left:e,behavior:l});r.x=i?n.scrollLeft-e:o===Je.Right?n.scrollLeft-d.x:n.scrollLeft-h.x,r.x&&n.scrollBy({left:-r.x,behavior:l});break}if(v&&f.y!==u.y){const e=n.scrollTop+t.y,i=o===Je.Down&&e<=d.y||o===Je.Up&&e>=h.y;if(i&&!t.x)return void n.scrollTo({top:e,behavior:l});r.y=i?n.scrollTop-e:o===Je.Down?n.scrollTop-d.y:n.scrollTop-h.y,r.y&&n.scrollBy({top:-r.y,behavior:l});break}}this.handleMove(e,ee(te(u,this.referenceCoordinates),r))}}}handleMove(e,t){const{onMove:n}=this.props;e.preventDefault(),n(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function rt(e){return Boolean(e&&"distance"in e)}function ot(e){return Boolean(e&&"delay"in e)}nt.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=et,onActivation:o}=t,{active:i}=n;const{code:l}=e.nativeEvent;if(r.start.includes(l)){const t=i.activatorNode.current;return!(t&&e.target!==t||(e.preventDefault(),null==o||o({event:e.nativeEvent}),0))}return!1}}];class it{constructor(e,t,n){var r;void 0===n&&(n=function(e){const{EventTarget:t}=q(e);return e instanceof t?e:z(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:o}=e,{target:i}=o;this.props=e,this.events=t,this.document=z(i),this.documentListeners=new Ye(this.document),this.listeners=new Ye(n),this.windowListeners=new Ye(q(i)),this.initialCoordinates=null!=(r=re(o))?r:ge,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),this.windowListeners.add(Ze.Resize,this.handleCancel),this.windowListeners.add(Ze.DragStart,Ge),this.windowListeners.add(Ze.VisibilityChange,this.handleCancel),this.windowListeners.add(Ze.ContextMenu,Ge),this.documentListeners.add(Ze.Keydown,this.handleKeydown),t){if(null!=n&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(ot(t))return void(this.timeoutId=setTimeout(this.handleStart,t.delay));if(rt(t))return}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(Ze.Click,Qe,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Ze.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:n,initialCoordinates:r,props:o}=this,{onMove:i,options:{activationConstraint:l}}=o;if(!r)return;const a=null!=(t=re(e))?t:ge,s=te(r,a);if(!n&&l){if(rt(l)){if(null!=l.tolerance&&Xe(s,l.tolerance))return this.handleCancel();if(Xe(s,l.distance))return this.handleStart()}return ot(l)&&Xe(s,l.tolerance)?this.handleCancel():void 0}e.cancelable&&e.preventDefault(),i(a)}handleEnd(){const{onEnd:e}=this.props;this.detach(),e()}handleCancel(){const{onCancel:e}=this.props;this.detach(),e()}handleKeydown(e){e.code===Je.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}const lt={move:{name:"pointermove"},end:{name:"pointerup"}};class at extends it{constructor(e){const{event:t}=e,n=z(t.target);super(e,lt,n)}}at.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!(!n.isPrimary||0!==n.button||(null==r||r({event:n}),0))}}];const st={move:{name:"mousemove"},end:{name:"mouseup"}};var ct;!function(e){e[e.RightClick=2]="RightClick"}(ct||(ct={}));class ut extends it{constructor(e){super(e,st,z(e.event.target))}}ut.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button!==ct.RightClick&&(null==r||r({event:n}),!0)}}];const dt={move:{name:"touchmove"},end:{name:"touchend"}};class ht extends it{constructor(e){super(e,dt)}static setup(){return window.addEventListener(dt.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(dt.move.name,e)};function e(){}}}var pt,ft;ht.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:o}=n;return!(o.length>1||(null==r||r({event:n}),0))}}],function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"}(pt||(pt={})),function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"}(ft||(ft={}));const bt={x:{[$e.Backward]:!1,[$e.Forward]:!1},y:{[$e.Backward]:!1,[$e.Forward]:!1}};var vt,gt;!function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"}(vt||(vt={})),function(e){e.Optimized="optimized"}(gt||(gt={}));const mt=new Map;function wt(e,t){return Y((n=>e?n||("function"==typeof t?t(e):e):null),[t,e])}function yt(e){let{callback:n,disabled:r}=e;const o=W(n),i=(0,t.useMemo)((()=>{if(r||"undefined"==typeof window||void 0===window.ResizeObserver)return;const{ResizeObserver:e}=window;return new e(o)}),[r]);return(0,t.useEffect)((()=>()=>null==i?void 0:i.disconnect()),[i]),i}function xt(e){return new Ke(Ne(e),e)}function Ct(e,n,r){void 0===n&&(n=xt);const[o,i]=(0,t.useReducer)((function(t){if(!e)return null;var o;if(!1===e.isConnected)return null!=(o=null!=t?t:r)?o:null;const i=n(e);return JSON.stringify(t)===JSON.stringify(i)?t:i}),null),l=function(e){let{callback:n,disabled:r}=e;const o=W(n),i=(0,t.useMemo)((()=>{if(r||"undefined"==typeof window||void 0===window.MutationObserver)return;const{MutationObserver:e}=window;return new e(o)}),[o,r]);return(0,t.useEffect)((()=>()=>null==i?void 0:i.disconnect()),[i]),i}({callback(t){if(e)for(const n of t){const{type:t,target:r}=n;if("childList"===t&&r instanceof HTMLElement&&r.contains(e)){i();break}}}}),a=yt({callback:i});return V((()=>{i(),e?(null==a||a.observe(e),null==l||l.observe(document.body,{childList:!0,subtree:!0})):(null==a||a.disconnect(),null==l||l.disconnect())}),[e]),o}const Et=[];function kt(e,n){void 0===n&&(n=[]);const r=(0,t.useRef)(null);return(0,t.useEffect)((()=>{r.current=null}),n),(0,t.useEffect)((()=>{const t=e!==ge;t&&!r.current&&(r.current=e),!t&&r.current&&(r.current=null)}),[e]),r.current?te(e,r.current):ge}function Rt(e){return(0,t.useMemo)((()=>e?function(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}(e):null),[e])}const Dt=[];const _t=[{sensor:at,options:{}},{sensor:nt,options:{}}],St={current:{}},It={draggable:{measure:Me},droppable:{measure:Me,strategy:vt.WhileDragging,frequency:gt.Optimized},dragOverlay:{measure:Ne}};class Tt extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter((e=>{let{disabled:t}=e;return!t}))}getNodeFor(e){var t,n;return null!=(t=null==(n=this.get(e))?void 0:n.node.current)?t:void 0}}const Nt={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Tt,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:be},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:It,measureDroppableContainers:be,windowRect:null,measuringScheduled:!1},Mt={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:be,draggableNodes:new Map,over:null,measureDroppableContainers:be},Ot=(0,t.createContext)(Mt),Lt=(0,t.createContext)(Nt);function At(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Tt}}}function Bt(e,t){switch(t.type){case fe.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case fe.DragMove:return e.draggable.active?{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}}:e;case fe.DragEnd:case fe.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case fe.RegisterDroppable:{const{element:n}=t,{id:r}=n,o=new Tt(e.droppable.containers);return o.set(r,n),{...e,droppable:{...e.droppable,containers:o}}}case fe.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const l=new Tt(e.droppable.containers);return l.set(n,{...i,disabled:o}),{...e,droppable:{...e.droppable,containers:l}}}case fe.UnregisterDroppable:{const{id:n,key:r}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const i=new Tt(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function jt(e){let{disabled:n}=e;const{active:r,activatorEvent:o,draggableNodes:i}=(0,t.useContext)(Ot),l=Z(o),a=Z(null==r?void 0:r.id);return(0,t.useEffect)((()=>{if(!n&&!o&&l&&null!=a){if(!ne(l))return;if(document.activeElement===l.target)return;const e=i.get(a);if(!e)return;const{activatorNode:t,node:n}=e;if(!t.current&&!n.current)return;requestAnimationFrame((()=>{for(const e of[t.current,n.current]){if(!e)continue;const t=le(e);if(t){t.focus();break}}}))}}),[o,n,i,a,l]),null}const Pt=(0,t.createContext)({...ge,scaleX:1,scaleY:1});var $t;!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"}($t||($t={}));const qt=(0,t.memo)((function(e){var n,o,i,l;let{id:a,accessibility:s,autoScroll:c=!0,children:u,sensors:d=_t,collisionDetection:h=De,measuring:p,modifiers:f,...b}=e;const v=(0,t.useReducer)(Bt,void 0,At),[g,m]=v,[w,y]=function(){const[e]=(0,t.useState)((()=>new Set)),n=(0,t.useCallback)((t=>(e.add(t),()=>e.delete(t))),[e]);return[(0,t.useCallback)((t=>{let{type:n,event:r}=t;e.forEach((e=>{var t;return null==(t=e[n])?void 0:t.call(e,r)}))}),[e]),n]}(),[x,C]=(0,t.useState)($t.Uninitialized),E=x===$t.Initialized,{draggable:{active:k,nodes:R,translate:D},droppable:{containers:_}}=g,S=k?R.get(k):null,I=(0,t.useRef)({initial:null,translated:null}),T=(0,t.useMemo)((()=>{var e;return null!=k?{id:k,data:null!=(e=null==S?void 0:S.data)?e:St,rect:I}:null}),[k,S]),N=(0,t.useRef)(null),[M,O]=(0,t.useState)(null),[L,A]=(0,t.useState)(null),P=K(b,Object.values(b)),$=G("DndDescribedBy",a),F=(0,t.useMemo)((()=>_.getEnabled()),[_]),U=(z=p,(0,t.useMemo)((()=>({draggable:{...It.draggable,...null==z?void 0:z.draggable},droppable:{...It.droppable,...null==z?void 0:z.droppable},dragOverlay:{...It.dragOverlay,...null==z?void 0:z.dragOverlay}})),[null==z?void 0:z.draggable,null==z?void 0:z.droppable,null==z?void 0:z.dragOverlay]));var z;const{droppableRects:W,measureDroppableContainers:J,measuringScheduled:Q}=function(e,n){let{dragging:r,dependencies:o,config:i}=n;const[l,a]=(0,t.useState)(null),{frequency:s,measure:c,strategy:u}=i,d=(0,t.useRef)(e),h=function(){switch(u){case vt.Always:return!1;case vt.BeforeDragging:return r;default:return!r}}(),p=K(h),f=(0,t.useCallback)((function(e){void 0===e&&(e=[]),p.current||a((t=>null===t?e:t.concat(e.filter((e=>!t.includes(e))))))}),[p]),b=(0,t.useRef)(null),v=Y((t=>{if(h&&!r)return mt;if(!t||t===mt||d.current!==e||null!=l){const t=new Map;for(let n of e){if(!n)continue;if(l&&l.length>0&&!l.includes(n.id)&&n.rect.current){t.set(n.id,n.rect.current);continue}const e=n.node.current,r=e?new Ke(c(e),e):null;n.rect.current=r,r&&t.set(n.id,r)}return t}return t}),[e,l,r,h,c]);return(0,t.useEffect)((()=>{d.current=e}),[e]),(0,t.useEffect)((()=>{h||f()}),[r,h]),(0,t.useEffect)((()=>{l&&l.length>0&&a(null)}),[JSON.stringify(l)]),(0,t.useEffect)((()=>{h||"number"!=typeof s||null!==b.current||(b.current=setTimeout((()=>{f(),b.current=null}),s))}),[s,h,f,...o]),{droppableRects:v,measureDroppableContainers:f,measuringScheduled:null!=l}}(F,{dragging:E,dependencies:[D.x,D.y],config:U.droppable}),te=function(e,t){const n=null!==t?e.get(t):void 0,r=n?n.node.current:null;return Y((e=>{var n;return null===t?null:null!=(n=null!=r?r:e)?n:null}),[r,t])}(R,k),ne=(0,t.useMemo)((()=>L?re(L):null),[L]),oe=function(){const e=!1===(null==M?void 0:M.autoScrollEnabled),t="object"==typeof c?!1===c.enabled:!1===c,n=E&&!e&&!t;return"object"==typeof c?{...c,enabled:n}:{enabled:n}}(),ie=function(e,t){return wt(e,t)}(te,U.draggable.measure);!function(e){let{activeNode:n,measure:r,initialRect:o,config:i=!0}=e;const l=(0,t.useRef)(!1),{x:a,y:s}="boolean"==typeof i?{x:i,y:i}:i;V((()=>{if(!a&&!s||!n)return void(l.current=!1);if(l.current||!o)return;const e=null==n?void 0:n.node.current;if(!e||!1===e.isConnected)return;const t=_e(r(e),o);if(a||(t.x=0),s||(t.y=0),l.current=!0,Math.abs(t.x)>0||Math.abs(t.y)>0){const n=Le(e);n&&n.scrollBy({top:t.y,left:t.x})}}),[n,a,s,o,r])}({activeNode:k?R.get(k):null,config:oe.layoutShiftCompensation,initialRect:ie,measure:U.draggable.measure});const le=Ct(te,U.draggable.measure,ie),ae=Ct(te?te.parentElement:null),se=(0,t.useRef)({activatorEvent:null,active:null,activeNode:te,collisionRect:null,collisions:null,droppableRects:W,draggableNodes:R,draggingNode:null,draggingNodeRect:null,droppableContainers:_,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ce=_.getNodeFor(null==(n=se.current.over)?void 0:n.id),de=function(e){let{measure:n}=e;const[r,o]=(0,t.useState)(null),i=yt({callback:(0,t.useCallback)((e=>{for(const{target:t}of e)if(H(t)){o((e=>{const r=n(t);return e?{...e,width:r.width,height:r.height}:r}));break}}),[n])}),l=(0,t.useCallback)((e=>{const t=function(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return H(t)?t:e}(e);null==i||i.disconnect(),t&&(null==i||i.observe(t)),o(t?n(t):null)}),[n,i]),[a,s]=X(l);return(0,t.useMemo)((()=>({nodeRef:a,rect:r,setRef:s})),[r,a,s])}({measure:U.dragOverlay.measure}),he=null!=(o=de.nodeRef.current)?o:te,be=E?null!=(i=de.rect)?i:le:null,ve=Boolean(de.nodeRef.current&&de.rect),me=_e(we=ve?null:le,wt(we));var we;const ye=Rt(he?q(he):null),xe=function(e){const n=(0,t.useRef)(e),r=Y((t=>e?t&&t!==Et&&e&&n.current&&e.parentNode===n.current.parentNode?t:Oe(e):Et),[e]);return(0,t.useEffect)((()=>{n.current=e}),[e]),r}(E?null!=ce?ce:te:null),Ee=function(e,n){void 0===n&&(n=Ne);const[r]=e,o=Rt(r?q(r):null),[i,l]=(0,t.useReducer)((function(){return e.length?e.map((e=>qe(e)?o:new Ke(n(e),e))):Dt}),Dt),a=yt({callback:l});return e.length>0&&i===Dt&&l(),V((()=>{e.length?e.forEach((e=>null==a?void 0:a.observe(e))):(null==a||a.disconnect(),l())}),[e]),i}(xe),ke=function(e,t){let{transform:n,...r}=t;return null!=e&&e.length?e.reduce(((e,t)=>t({transform:e,...r})),n):n}(f,{transform:{x:D.x-me.x,y:D.y-me.y,scaleX:1,scaleY:1},activatorEvent:L,active:T,activeNodeRect:le,containerNodeRect:ae,draggingNodeRect:be,over:se.current.over,overlayNodeRect:de.rect,scrollableAncestors:xe,scrollableAncestorRects:Ee,windowRect:ye}),Re=ne?ee(ne,D):null,Se=function(e){const[n,r]=(0,t.useState)(null),o=(0,t.useRef)(e),i=(0,t.useCallback)((e=>{const t=Ae(e.target);t&&r((e=>e?(e.set(t,Pe(t)),new Map(e)):null))}),[]);return(0,t.useEffect)((()=>{const t=o.current;if(e!==t){n(t);const l=e.map((e=>{const t=Ae(e);return t?(t.addEventListener("scroll",i,{passive:!0}),[t,Pe(t)]):null})).filter((e=>null!=e));r(l.length?new Map(l):null),o.current=e}return()=>{n(e),n(t)};function n(e){e.forEach((e=>{const t=Ae(e);null==t||t.removeEventListener("scroll",i)}))}}),[i,e]),(0,t.useMemo)((()=>e.length?n?Array.from(n.values()).reduce(((e,t)=>ee(e,t)),ge):Ve(e):ge),[e,n])}(xe),Te=kt(Se),Me=kt(Se,[le]),Be=ee(ke,Te),je=be?Ie(be,ke):null,Fe=T&&je?h({active:T,collisionRect:je,droppableRects:W,droppableContainers:F,pointerCoordinates:Re}):null,He=Ce(Fe,"id"),[ze,We]=(0,t.useState)(null),Ye=function(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}(ve?ke:ee(ke,Me),null!=(l=null==ze?void 0:ze.rect)?l:null,le),Xe=(0,t.useCallback)(((e,t)=>{let{sensor:n,options:r}=t;if(null==N.current)return;const o=R.get(N.current);if(!o)return;const i=e.nativeEvent,l=new n({active:N.current,activeNode:o,event:i,options:r,context:se,onStart(e){const t=N.current;if(null==t)return;const n=R.get(t);if(!n)return;const{onDragStart:r}=P.current,o={active:{id:t,data:n.data,rect:I}};(0,B.unstable_batchedUpdates)((()=>{null==r||r(o),C($t.Initializing),m({type:fe.DragStart,initialCoordinates:e,active:t}),w({type:"onDragStart",event:o})}))},onMove(e){m({type:fe.DragMove,coordinates:e})},onEnd:a(fe.DragEnd),onCancel:a(fe.DragCancel)});function a(e){return async function(){const{active:t,collisions:n,over:r,scrollAdjustedTranslate:o}=se.current;let l=null;if(t&&o){const{cancelDrop:a}=P.current;l={activatorEvent:i,active:t,collisions:n,delta:o,over:r},e===fe.DragEnd&&"function"==typeof a&&await Promise.resolve(a(l))&&(e=fe.DragCancel)}N.current=null,(0,B.unstable_batchedUpdates)((()=>{m({type:e}),C($t.Uninitialized),We(null),O(null),A(null);const t=e===fe.DragEnd?"onDragEnd":"onDragCancel";if(l){const e=P.current[t];null==e||e(l),w({type:t,event:l})}}))}}(0,B.unstable_batchedUpdates)((()=>{O(l),A(e.nativeEvent)}))}),[R]),Ze=(0,t.useCallback)(((e,t)=>(n,r)=>{const o=n.nativeEvent,i=R.get(r);if(null!==N.current||!i||o.dndKit||o.defaultPrevented)return;const l={active:i};!0===e(n,t.options,l)&&(o.dndKit={capturedBy:t.sensor},N.current=r,Xe(n,t))}),[R,Xe]),Je=function(e,n){return(0,t.useMemo)((()=>e.reduce(((e,t)=>{const{sensor:r}=t;return[...e,...r.activators.map((e=>({eventName:e.eventName,handler:n(e.handler,t)})))]}),[])),[e,n])}(d,Ze);!function(e){(0,t.useEffect)((()=>{if(!j)return;const t=e.map((e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()}));return()=>{for(const e of t)null==e||e()}}),e.map((e=>{let{sensor:t}=e;return t})))}(d),V((()=>{le&&x===$t.Initializing&&C($t.Initialized)}),[le,x]),(0,t.useEffect)((()=>{const{onDragMove:e}=P.current,{active:t,activatorEvent:n,collisions:r,over:o}=se.current;if(!t||!n)return;const i={active:t,activatorEvent:n,collisions:r,delta:{x:Be.x,y:Be.y},over:o};(0,B.unstable_batchedUpdates)((()=>{null==e||e(i),w({type:"onDragMove",event:i})}))}),[Be.x,Be.y]),(0,t.useEffect)((()=>{const{active:e,activatorEvent:t,collisions:n,droppableContainers:r,scrollAdjustedTranslate:o}=se.current;if(!e||null==N.current||!t||!o)return;const{onDragOver:i}=P.current,l=r.get(He),a=l&&l.rect.current?{id:l.id,rect:l.rect.current,data:l.data,disabled:l.disabled}:null,s={active:e,activatorEvent:t,collisions:n,delta:{x:o.x,y:o.y},over:a};(0,B.unstable_batchedUpdates)((()=>{We(a),null==i||i(s),w({type:"onDragOver",event:s})}))}),[He]),V((()=>{se.current={activatorEvent:L,active:T,activeNode:te,collisionRect:je,collisions:Fe,droppableRects:W,draggableNodes:R,draggingNode:he,draggingNodeRect:be,droppableContainers:_,over:ze,scrollableAncestors:xe,scrollAdjustedTranslate:Be},I.current={initial:be,translated:je}}),[T,te,Fe,je,R,he,be,W,_,ze,xe,Be]),function(e){let{acceleration:n,activator:r=pt.Pointer,canScroll:o,draggingRect:i,enabled:l,interval:a=5,order:s=ft.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:h,threshold:p}=e;const f=function(e){let{delta:t,disabled:n}=e;const r=Z(t);return Y((e=>{if(n||!r||!e)return bt;const o=Math.sign(t.x-r.x),i=Math.sign(t.y-r.y);return{x:{[$e.Backward]:e.x[$e.Backward]||-1===o,[$e.Forward]:e.x[$e.Forward]||1===o},y:{[$e.Backward]:e.y[$e.Backward]||-1===i,[$e.Forward]:e.y[$e.Forward]||1===i}}}),[n,t,r])}({delta:h,disabled:!l}),[b,v]=function(){const e=(0,t.useRef)(null);return[(0,t.useCallback)(((t,n)=>{e.current=setInterval(t,n)}),[]),(0,t.useCallback)((()=>{null!==e.current&&(clearInterval(e.current),e.current=null)}),[])]}(),g=(0,t.useRef)({x:0,y:0}),m=(0,t.useRef)({x:0,y:0}),w=(0,t.useMemo)((()=>{switch(r){case pt.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case pt.DraggableRect:return i}}),[r,i,c]),y=(0,t.useRef)(null),x=(0,t.useCallback)((()=>{const e=y.current;if(!e)return;const t=g.current.x*m.current.x,n=g.current.y*m.current.y;e.scrollBy(t,n)}),[]),C=(0,t.useMemo)((()=>s===ft.TreeOrder?[...u].reverse():u),[s,u]);(0,t.useEffect)((()=>{if(l&&u.length&&w){for(const e of C){if(!1===(null==o?void 0:o(e)))continue;const t=u.indexOf(e),r=d[t];if(!r)continue;const{direction:i,speed:l}=Ue(e,r,w,n,p);for(const e of["x","y"])f[e][i[e]]||(l[e]=0,i[e]=0);if(l.x>0||l.y>0)return v(),y.current=e,b(x,a),g.current=l,void(m.current=i)}g.current={x:0,y:0},m.current={x:0,y:0},v()}else v()}),[n,x,o,v,l,a,JSON.stringify(w),JSON.stringify(f),b,u,C,d,JSON.stringify(p)])}({...oe,delta:D,draggingRect:je,pointerCoordinates:Re,scrollableAncestors:xe,scrollableAncestorRects:Ee});const Ge=(0,t.useMemo)((()=>({active:T,activeNode:te,activeNodeRect:le,activatorEvent:L,collisions:Fe,containerNodeRect:ae,dragOverlay:de,draggableNodes:R,droppableContainers:_,droppableRects:W,over:ze,measureDroppableContainers:J,scrollableAncestors:xe,scrollableAncestorRects:Ee,measuringConfiguration:U,measuringScheduled:Q,windowRect:ye})),[T,te,le,L,Fe,ae,de,R,_,W,ze,J,xe,Ee,U,Q,ye]),Qe=(0,t.useMemo)((()=>({activatorEvent:L,activators:Je,active:T,activeNodeRect:le,ariaDescribedById:{draggable:$},dispatch:m,draggableNodes:R,over:ze,measureDroppableContainers:J})),[L,Je,T,le,m,$,R,ze,J]);return r().createElement(ue.Provider,{value:y},r().createElement(Ot.Provider,{value:Qe},r().createElement(Lt.Provider,{value:Ge},r().createElement(Pt.Provider,{value:Ye},u)),r().createElement(jt,{disabled:!1===(null==s?void 0:s.restoreFocus)})),r().createElement(pe,{...s,hiddenTextDescribedById:$}))})),Ft=(0,t.createContext)(null),Ht="button",Ut="Droppable";const zt={timeout:25};function Vt(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function Wt(e,t){return e.reduce(((e,n,r)=>{const o=t.get(n);return o&&(e[r]=o),e}),Array(e.length))}function Kt(e){return null!==e&&e>=0}const Yt=e=>{let{rects:t,activeIndex:n,overIndex:r,index:o}=e;const i=Vt(t,r,n),l=t[o],a=i[o];return a&&l?{x:a.left-l.left,y:a.top-l.top,scaleX:a.width/l.width,scaleY:a.height/l.height}:null},Xt={scaleX:1,scaleY:1},Zt=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:o,rects:i,overIndex:l}=e;const a=null!=(t=i[n])?t:r;if(!a)return null;if(o===n){const e=i[l];return e?{x:0,y:n<l?e.top+e.height-(a.top+a.height):e.top-a.top,...Xt}:null}const s=function(e,t,n){const r=e[t],o=e[t-1],i=e[t+1];return r?n<t?o?r.top-(o.top+o.height):i?i.top-(r.top+r.height):0:i?i.top-(r.top+r.height):o?r.top-(o.top+o.height):0:0}(i,o,n);return o>n&&o<=l?{x:0,y:-a.height-s,...Xt}:o<n&&o>=l?{x:0,y:a.height+s,...Xt}:{x:0,y:0,...Xt}},Jt="Sortable",Gt=r().createContext({activeIndex:-1,containerId:Jt,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Yt,disabled:{draggable:!1,droppable:!1}});function Qt(e){let{children:n,id:o,items:i,strategy:l=Yt,disabled:a=!1}=e;const{active:s,dragOverlay:c,droppableRects:u,over:d,measureDroppableContainers:h}=(0,t.useContext)(Lt),p=G(Jt,o),f=Boolean(null!==c.rect),b=(0,t.useMemo)((()=>i.map((e=>"object"==typeof e&&"id"in e?e.id:e))),[i]),v=null!=s,g=s?b.indexOf(s.id):-1,m=d?b.indexOf(d.id):-1,w=(0,t.useRef)(b),y=!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(b,w.current),x=-1!==m&&-1===g||y,C=function(e){return"boolean"==typeof e?{draggable:e,droppable:e}:e}(a);V((()=>{y&&v&&h(b)}),[y,b,v,h]),(0,t.useEffect)((()=>{w.current=b}),[b]);const E=(0,t.useMemo)((()=>({activeIndex:g,containerId:p,disabled:C,disableTransforms:x,items:b,overIndex:m,useDragOverlay:f,sortedRects:Wt(b,u),strategy:l})),[g,p,C.draggable,C.droppable,x,b,m,u,f,l]);return r().createElement(Gt.Provider,{value:E},n)}const en=e=>{let{id:t,items:n,activeIndex:r,overIndex:o}=e;return Vt(n,r,o).indexOf(t)},tn=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:o,items:i,newIndex:l,previousItems:a,previousContainerId:s,transition:c}=e;return!(!c||!r||a!==i&&o===l||!n&&(l===o||t!==s))},nn={duration:200,easing:"ease"},rn="transform",on=oe.Transition.toString({property:rn,duration:0,easing:"linear"}),ln={roleDescription:"sortable"};function an(e){let{animateLayoutChanges:n=tn,attributes:r,disabled:o,data:i,getNewIndex:l=en,id:a,strategy:s,resizeObserverConfig:c,transition:u=nn}=e;const{items:d,containerId:h,activeIndex:p,disabled:f,disableTransforms:b,sortedRects:v,overIndex:g,useDragOverlay:m,strategy:w}=(0,t.useContext)(Gt),y=function(e,t){var n,r;return"boolean"==typeof e?{draggable:e,droppable:!1}:{draggable:null!=(n=null==e?void 0:e.draggable)?n:t.draggable,droppable:null!=(r=null==e?void 0:e.droppable)?r:t.droppable}}(o,f),x=d.indexOf(a),C=(0,t.useMemo)((()=>({sortable:{containerId:h,index:x,items:d},...i})),[h,i,x,d]),E=(0,t.useMemo)((()=>d.slice(d.indexOf(a))),[d,a]),{rect:k,node:R,isOver:D,setNodeRef:_}=function(e){let{data:n,disabled:r=!1,id:o,resizeObserverConfig:i}=e;const l=G("Droppable"),{active:a,dispatch:s,over:c,measureDroppableContainers:u}=(0,t.useContext)(Ot),d=(0,t.useRef)({disabled:r}),h=(0,t.useRef)(!1),p=(0,t.useRef)(null),f=(0,t.useRef)(null),{disabled:b,updateMeasurementsFor:v,timeout:g}={...zt,...i},m=K(null!=v?v:o),w=yt({callback:(0,t.useCallback)((()=>{h.current?(null!=f.current&&clearTimeout(f.current),f.current=setTimeout((()=>{u(Array.isArray(m.current)?m.current:[m.current]),f.current=null}),g)):h.current=!0}),[g]),disabled:b||!a}),y=(0,t.useCallback)(((e,t)=>{w&&(t&&(w.unobserve(t),h.current=!1),e&&w.observe(e))}),[w]),[x,C]=X(y),E=K(n);return(0,t.useEffect)((()=>{w&&x.current&&(w.disconnect(),h.current=!1,w.observe(x.current))}),[x,w]),V((()=>(s({type:fe.RegisterDroppable,element:{id:o,key:l,disabled:r,node:x,rect:p,data:E}}),()=>s({type:fe.UnregisterDroppable,key:l,id:o}))),[o]),(0,t.useEffect)((()=>{r!==d.current.disabled&&(s({type:fe.SetDroppableDisabled,id:o,key:l,disabled:r}),d.current.disabled=r)}),[o,l,r,s]),{active:a,rect:p,isOver:(null==c?void 0:c.id)===o,node:x,over:c,setNodeRef:C}}({id:a,data:C,disabled:y.droppable,resizeObserverConfig:{updateMeasurementsFor:E,...c}}),{active:S,activatorEvent:I,activeNodeRect:T,attributes:N,setNodeRef:M,listeners:O,isDragging:L,over:A,setActivatorNodeRef:B,transform:j}=function(e){let{id:n,data:r,disabled:o=!1,attributes:i}=e;const l=G(Ut),{activators:a,activatorEvent:s,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:h,over:p}=(0,t.useContext)(Ot),{role:f=Ht,roleDescription:b="draggable",tabIndex:v=0}=null!=i?i:{},g=(null==c?void 0:c.id)===n,m=(0,t.useContext)(g?Pt:Ft),[w,y]=X(),[x,C]=X(),E=function(e,n){return(0,t.useMemo)((()=>e.reduce(((e,t)=>{let{eventName:r,handler:o}=t;return e[r]=e=>{o(e,n)},e}),{})),[e,n])}(a,n),k=K(r);return V((()=>(h.set(n,{id:n,key:l,node:w,activatorNode:x,data:k}),()=>{const e=h.get(n);e&&e.key===l&&h.delete(n)})),[h,n]),{active:c,activatorEvent:s,activeNodeRect:u,attributes:(0,t.useMemo)((()=>({role:f,tabIndex:v,"aria-disabled":o,"aria-pressed":!(!g||f!==Ht)||void 0,"aria-roledescription":b,"aria-describedby":d.draggable})),[o,f,v,g,b,d.draggable]),isDragging:g,listeners:o?void 0:E,node:w,over:p,setNodeRef:y,setActivatorNodeRef:C,transform:m}}({id:a,data:C,attributes:{...ln,...r},disabled:y.draggable}),P=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0,t.useMemo)((()=>e=>{n.forEach((t=>t(e)))}),n)}(_,M),$=Boolean(S),q=$&&!b&&Kt(p)&&Kt(g),F=!m&&L,H=F&&q?j:null,U=q?null!=H?H:(null!=s?s:w)({rects:v,activeNodeRect:T,activeIndex:p,overIndex:g,index:x}):null,z=Kt(p)&&Kt(g)?l({id:a,items:d,activeIndex:p,overIndex:g}):x,W=null==S?void 0:S.id,Y=(0,t.useRef)({activeId:W,items:d,newIndex:z,containerId:h}),Z=d!==Y.current.items,J=n({active:S,containerId:h,isDragging:L,isSorting:$,id:a,index:x,items:d,newIndex:Y.current.newIndex,previousItems:Y.current.items,previousContainerId:Y.current.containerId,transition:u,wasDragging:null!=Y.current.activeId}),Q=function(e){let{disabled:n,index:r,node:o,rect:i}=e;const[l,a]=(0,t.useState)(null),s=(0,t.useRef)(r);return V((()=>{if(!n&&r!==s.current&&o.current){const e=i.current;if(e){const t=Ne(o.current,{ignoreTransform:!0}),n={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(n.x||n.y)&&a(n)}}r!==s.current&&(s.current=r)}),[n,r,o,i]),(0,t.useEffect)((()=>{l&&a(null)}),[l]),l}({disabled:!J,index:x,node:R,rect:k});return(0,t.useEffect)((()=>{$&&Y.current.newIndex!==z&&(Y.current.newIndex=z),h!==Y.current.containerId&&(Y.current.containerId=h),d!==Y.current.items&&(Y.current.items=d)}),[$,z,h,d]),(0,t.useEffect)((()=>{if(W===Y.current.activeId)return;if(W&&!Y.current.activeId)return void(Y.current.activeId=W);const e=setTimeout((()=>{Y.current.activeId=W}),50);return()=>clearTimeout(e)}),[W]),{active:S,activeIndex:p,attributes:N,data:C,rect:k,index:x,newIndex:z,items:d,isOver:D,isSorting:$,isDragging:L,listeners:O,node:R,overIndex:g,over:A,setNodeRef:P,setActivatorNodeRef:B,setDroppableNodeRef:_,setDraggableNodeRef:M,transform:null!=Q?Q:U,transition:Q||Z&&Y.current.newIndex===x?on:F&&!ne(I)||!u?void 0:$||J?oe.Transition.toString({...u,property:rn}):void 0}}function sn(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&"object"==typeof t.sortable&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const cn=[Je.Down,Je.Right,Je.Up,Je.Left],un=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:o,droppableContainers:i,over:l,scrollableAncestors:a}}=t;if(cn.includes(e.code)){if(e.preventDefault(),!n||!r)return;const t=[];i.getEnabled().forEach((n=>{if(!n||null!=n&&n.disabled)return;const i=o.get(n.id);if(i)switch(e.code){case Je.Down:r.top<i.top&&t.push(n);break;case Je.Up:r.top>i.top&&t.push(n);break;case Je.Left:r.left>i.left&&t.push(n);break;case Je.Right:r.left<i.left&&t.push(n)}}));const u=(e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=xe(t),i=[];for(const e of r){const{id:t}=e,r=n.get(t);if(r){const n=xe(r),l=o.reduce(((e,t,r)=>e+me(n[r],t)),0),a=Number((l/4).toFixed(4));i.push({id:t,data:{droppableContainer:e,value:a}})}}return i.sort(we)})({active:n,collisionRect:r,droppableRects:o,droppableContainers:t,pointerCoordinates:null});let d=Ce(u,"id");if(d===(null==l?void 0:l.id)&&u.length>1&&(d=u[1].id),null!=d){const e=i.get(n.id),t=i.get(d),l=t?o.get(t.id):null,u=null==t?void 0:t.node.current;if(u&&l&&e&&t){const n=Oe(u).some(((e,t)=>a[t]!==e)),o=dn(e,t),i=(c=t,!(!sn(s=e)||!sn(c))&&!!dn(s,c)&&s.data.current.sortable.index<c.data.current.sortable.index),d=n||!o?{x:0,y:0}:{x:i?r.width-l.width:0,y:i?r.height-l.height:0},h={x:l.left,y:l.top};return d.x&&d.y?h:te(h,d)}}}var s,c};function dn(e,t){return!(!sn(e)||!sn(t))&&e.data.current.sortable.containerId===t.data.current.sortable.containerId}const hn=e=>{let{transform:t}=e;return{...t,x:0}},pn=({indx:e,choice:n,showValues:r,displayFormat:o,handleAddChoice:i,handleRemoveChoice:l,onChoiceDefaultChange:a,onChoiceLabelInlineChange:c,onChoiceValueInlineChange:u,onChoiceSelectMedia:d})=>{var h;const{attributes:p,listeners:f,setNodeRef:b,transform:v,transition:m}=an({id:n.id}),w={transform:oe.Transform.toString(v),transition:m};return(0,t.createElement)("div",{className:"firebox-block-editor-choices-control--choice",ref:b,style:w},(0,t.createElement)("button",{className:"firebox-block-editor-choices-control--choice--drag-handle",title:(0,g.__)("Drag to reorder","firebox"),...f,...p},(0,t.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 -960 960 960",width:"20"},(0,t.createElement)("path",{d:"M180.001-370.001v-59.998h599.998v59.998H180.001Zm0-160v-59.998h599.998v59.998H180.001Z"}))),(0,t.createElement)("div",{title:(0,g.__)("Set as the selected choice","firebox"),className:"firebox-block-editor-choices-control--choice--default-state"},n.default?(0,t.createElement)("svg",{className:"checked-icon",onClick:()=>a(e,!1),width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,t.createElement)("path",{d:"M7.83366 12.8332L13.7087 6.95817L12.542 5.7915L7.83366 10.4998L5.45866 8.12484L4.29199 9.2915L7.83366 12.8332ZM9.00033 17.3332C7.84755 17.3332 6.76422 17.1144 5.75033 16.6769C4.73644 16.2394 3.85449 15.6457 3.10449 14.8957C2.35449 14.1457 1.76074 13.2637 1.32324 12.2498C0.885742 11.2359 0.666992 10.1526 0.666992 8.99984C0.666992 7.84706 0.885742 6.76373 1.32324 5.74984C1.76074 4.73595 2.35449 3.854 3.10449 3.104C3.85449 2.354 4.73644 1.76025 5.75033 1.32275C6.76422 0.885254 7.84755 0.666504 9.00033 0.666504C10.1531 0.666504 11.2364 0.885254 12.2503 1.32275C13.2642 1.76025 14.1462 2.354 14.8962 3.104C15.6462 3.854 16.2399 4.73595 16.6774 5.74984C17.1149 6.76373 17.3337 7.84706 17.3337 8.99984C17.3337 10.1526 17.1149 11.2359 16.6774 12.2498C16.2399 13.2637 15.6462 14.1457 14.8962 14.8957C14.1462 15.6457 13.2642 16.2394 12.2503 16.6769C11.2364 17.1144 10.1531 17.3332 9.00033 17.3332Z",fill:"currentColor"})):(0,t.createElement)("svg",{className:"unchecked-icon",onClick:()=>a(e,!0),width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,t.createElement)("path",{d:"M7.83366 12.8332L13.7087 6.95817L12.542 5.7915L7.83366 10.4998L5.45866 8.12484L4.29199 9.2915L7.83366 12.8332ZM9.00033 17.3332C7.84755 17.3332 6.76422 17.1144 5.75033 16.6769C4.73644 16.2394 3.85449 15.6457 3.10449 14.8957C2.35449 14.1457 1.76074 13.2637 1.32324 12.2498C0.885742 11.2359 0.666992 10.1526 0.666992 8.99984C0.666992 7.84706 0.885742 6.76373 1.32324 5.74984C1.76074 4.73595 2.35449 3.854 3.10449 3.104C3.85449 2.354 4.73644 1.76025 5.75033 1.32275C6.76422 0.885254 7.84755 0.666504 9.00033 0.666504C10.1531 0.666504 11.2364 0.885254 12.2503 1.32275C13.2642 1.76025 14.1462 2.354 14.8962 3.104C15.6462 3.854 16.2399 4.73595 16.6774 5.74984C17.1149 6.76373 17.3337 7.84706 17.3337 8.99984C17.3337 10.1526 17.1149 11.2359 16.6774 12.2498C16.2399 13.2637 15.6462 14.1457 14.8962 14.8957C14.1462 15.6457 13.2642 16.2394 12.2503 16.6769C11.2364 17.1144 10.1531 17.3332 9.00033 17.3332Z",fill:"currentColor"}))),"images"===o&&(0,t.createElement)("div",{className:"firebox-block-editor-choices-control--choice--image",title:(0,g.__)("Click to select an image","firebox")},(0,t.createElement)(s.MediaUpload,{onSelect:t=>{var n;return d(e,null!==(n=t?.url)&&void 0!==n?n:"")},allowedTypes:["image"],value:null!==(h=n.image)&&void 0!==h?h:"",render:({open:e})=>n?.image&&""!==n.image?(0,t.createElement)("img",{style:{width:"16px",height:"16px"},src:n.image,alt:n.label,onClick:e}):(0,t.createElement)(O.Icon,{size:16,icon:(0,t.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 18 18",fill:"none",style:{background:"#fff"},xmlns:"http://www.w3.org/2000/svg"},(0,t.createElement)("path",{d:"M2.3077 17.5C1.80257 17.5 1.375 17.325 1.025 16.975C0.675 16.625 0.5 16.1974 0.5 15.6923V2.3077C0.5 1.80257 0.675 1.375 1.025 1.025C1.375 0.675 1.80257 0.5 2.3077 0.5H15.6922C16.1974 0.5 16.625 0.675 16.975 1.025C17.325 1.375 17.5 1.80257 17.5 2.3077V15.6923C17.5 16.1974 17.325 16.625 16.975 16.975C16.625 17.325 16.1974 17.5 15.6922 17.5H2.3077ZM2.3077 16H15.6922C15.7692 16 15.8397 15.9679 15.9038 15.9038C15.9679 15.8397 16 15.7692 16 15.6923V2.3077C16 2.23077 15.9679 2.16024 15.9038 2.09613C15.8397 2.03203 15.7692 1.99998 15.6922 1.99998H2.3077C2.23077 1.99998 2.16024 2.03203 2.09612 2.09613C2.03202 2.16024 1.99997 2.23077 1.99997 2.3077V15.6923C1.99997 15.7692 2.03202 15.8397 2.09612 15.9038C2.16024 15.9679 2.23077 16 2.3077 16ZM3.75003 13.75H14.3269L11.0384 9.36538L8.23075 13.0192L6.23075 10.4616L3.75003 13.75Z",fill:"#333"})),onClick:e})})),(0,t.createElement)("div",{className:"firebox-block-editor-choices-control--choice--inputs"},(0,t.createElement)("input",{type:"text",className:"components-text-control__input firebox-block-editor-choices-control--choice--label",placeholder:(0,g.__)("Enter label","firebox"),value:n.label,onChange:t=>c(e,t.target.value),title:(0,g.__)("Enter the choice label","firebox")}),r&&(0,t.createElement)("input",{type:"text",className:"components-text-control__input firebox-block-editor-choices-control--choice--value",placeholder:(0,g.__)("Enter saved value","firebox"),value:n.value,onChange:t=>u(e,t.target.value),title:(0,g.__)("Enter the choice value","firebox")})),(0,t.createElement)("div",{className:"firebox-block-editor-choices-control--choice--actions"},(0,t.createElement)("a",{href:"#",onClick:()=>i(e),title:(0,g.__)("Add a new choice below","firebox")},(0,t.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 -960 960 960"},(0,t.createElement)("path",{d:"M434.5-434.5H191.869v-91H434.5v-242.631h91V-525.5h242.631v91H525.5v242.631h-91V-434.5Z",fill:"currentColor"}))),(0,t.createElement)("a",{href:"#",onClick:()=>l(e),title:(0,g.__)("Delete this choice","firebox")},(0,t.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 -960 960 960"},(0,t.createElement)("path",{d:"M191.869-434.5v-91h576.262v91H191.869Z",fill:"currentColor"})))))},fn=({attributes:e,setAttributes:n,multipleDefaultValues:r=!1,acceptsMedia:i=!1})=>{const{displayFormat:l,imageLabels:a,hideCheckmark:s}=e,[c,u]=(0,o.useState)(!1);let d=e.choices.map(((e,t)=>(e.id||(e.id=t+1),e)));const h=e=>{const t={default:!1,label:"Untitled Choice",image:"",value:"",id:d.reduce(((e,t)=>(t.id>e&&(e=t.id),e)),0)+1},r=[...d];r.splice(e+1,0,t),n({choices:r})},p=e=>{let t=[...d];t.length>1?t.splice(e,1):t=[{id:1,default:!1,label:"Untitled Choice",value:"",image:""}],n({choices:t})},f=(e,t)=>{let r=d.map(((n,r)=>({...n,label:r===e?t:n.label})));n({choices:r})},b=(e,t)=>{let r=d.map(((n,r)=>({...n,value:r===e?t:n.value})));n({choices:r})},v=(e,t)=>{let r=d.map(((n,r)=>({...n,image:r===e?t:n.image})));n({choices:r})},m=(e,t)=>{let o;o=r?d.map(((n,r)=>({...n,default:r===e?t:n.default}))):d.map(((t,n)=>({...t,default:n===e&&!t.default}))),n({choices:o})},w=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0,t.useMemo)((()=>[...n].filter((e=>null!=e))),[...n])}(ve(ut,{activationConstraint:{distance:8}}),ve(ht,{activationConstraint:{delay:200,tolerance:6}}),ve(nt,{coordinateGetter:un}));return(0,t.createElement)(t.Fragment,null,i&&(0,t.createElement)(O.SelectControl,{label:(0,g.__)("Display Format","firebox"),options:[{label:(0,g.__)("Default","firebox"),value:""},{label:(0,g.__)("Images","firebox"),value:"images"},{label:(0,g.__)("Buttons","firebox"),value:"buttons"}],value:l,onChange:e=>n({displayFormat:e})}),(0,t.createElement)(O.BaseControl,{label:(0,g.__)("Choices","firebox"),className:"firebox-block-editor-choices-wrapper"},(0,t.createElement)(O.Button,{className:"firebox-block-editor-choices-wrapper--delete-all-btn",title:(0,g.__)("Click to delete all choices","firebox"),onClick:()=>{confirm((0,g.__)("Are you sure you want to delete all choices?"))&&n({choices:[{id:1,default:!1,label:"Untitled Choice",value:"",image:""}]})}},(0,t.createElement)(O.Icon,{size:18,icon:(0,t.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -960 960 960",width:24,height:24},(0,t.createElement)("path",{d:"M292.309-140.001q-29.923 0-51.115-21.193-21.193-21.192-21.193-51.115V-720h-40v-59.999H360v-35.384h240v35.384h179.999V-720h-40v507.691q0 30.308-21 51.308t-51.308 21H292.309ZM680-720H280v507.691q0 5.385 3.462 8.847 3.462 3.462 8.847 3.462h375.382q4.616 0 8.463-3.846 3.846-3.847 3.846-8.463V-720ZM376.155-280h59.999v-360h-59.999v360Zm147.691 0h59.999v-360h-59.999v360ZM280-720v520-520Z"}))}),(0,g.__)("CLEAR","firebox")),(0,t.createElement)(qt,{sensors:w,modifiers:[hn],collisionDetection:ke,onDragEnd:e=>{const{active:t,over:r}=e,o=d.findIndex((e=>e.id===t.id)),i=d.findIndex((e=>e.id===r.id)),l=Vt(d,o,i);n({choices:l})}},(0,t.createElement)(Qt,{strategy:Zt,items:d},(0,t.createElement)("div",{className:"firebox-block-editor-choices-control components-base-control"},d.map(((e,n)=>(0,t.createElement)(pn,{key:e.id,indx:n,choice:e,showValues:c,displayFormat:l,handleAddChoice:h,handleRemoveChoice:p,onChoiceDefaultChange:m,onChoiceLabelInlineChange:f,onChoiceValueInlineChange:b,onChoiceSelectMedia:v}))),(0,t.createElement)("a",{href:"#",className:"firebox-block-editor-choices-control--add-choice",onClick:()=>{h(d.length)},title:(0,g.__)("Add a new choice at the end","firebox")},(0,g.__)("Add Choice","firebox"))),(0,t.createElement)(O.BaseControl,{label:(0,g.__)("Options","firebox"),className:"firebox-block-editor-choices-settings"},(0,t.createElement)(O.ToggleControl,{label:(0,g.__)("Use Separate Values","firebox"),className:"images"===l?"fpframework-gutenberg-m-b-8":"",checked:c,onChange:e=>{u(e)}}),i&&"images"===l&&(0,t.createElement)(t.Fragment,null,(0,t.createElement)(O.ToggleControl,{label:(0,g.__)("Show Choice Labels","firebox"),className:"fpframework-gutenberg-m-b-8",checked:a,onChange:e=>{n({imageLabels:e})}}),(0,t.createElement)(O.ToggleControl,{label:(0,g.__)("Hide Checkmark","firebox"),default:!1,checked:s,onChange:e=>n({hideCheckmark:e})})))))))},bn={attributes:a().object.isRequired,setAttributes:a().func.isRequired},vn=({attributes:e,setAttributes:n})=>(0,t.createElement)(s.InspectorControls,null,(0,t.createElement)(L,{fieldTypeName:"Dropdown",attributes:e,setAttributes:n},(0,t.createElement)(fn,{attributes:e,setAttributes:n})),(0,t.createElement)(A,{attributes:e,setAttributes:n,showDisableBrowserAutocomplete:!1}));vn.propTypes=bn;const gn=vn,mn=window.lodash;const wn={attributes:a().object.isRequired,setAttributes:a().func.isRequired,className:a().string,clientId:a().string.isRequired,context:a().object},yn=({attributes:e,setAttributes:n,className:r,clientId:l,context:a})=>{const{uniqueId:c}=e,{addUniqueID:h}=(0,i.useDispatch)("firebox/data"),{isUniqueID:p,isUniqueBlock:b,parentData:v}=(0,i.useSelect)((e=>({isUniqueID:t=>e("firebox/data").isUniqueID(t),isUniqueBlock:(t,n)=>e("firebox/data").isUniqueBlock(t,n),parentData:{rootBlock:e("core/block-editor").getBlock(e("core/block-editor").getBlockHierarchyRootClientId(l)),postId:e("core/editor")?.getCurrentPostId()?e("core/editor")?.getCurrentPostId():"",reusableParent:e("core/block-editor").getBlockAttributes(e("core/block-editor").getBlockParentsByBlockName(l,"core/block").slice(-1)[0]),editedPostId:!!e("core/edit-site")&&e("core/edit-site").getEditedPostId()}})),[l]);useEffect((()=>{const t=function(e){const{postId:t,reusableParent:n,editedPostId:r}=e,o=function(e,t,n="block-unknown"){return(0,mn.has)(t,"ref")?t.ref:e||n}(t,n,0);return 0===o&&r?function(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return t>>>0}(r)%1e6:o}(v);let r=function(e,t,n,r,o="",i=!1){const l=e&&2===e.split("_").length,a=(o?o+"_":"")+t.substr(2,9);return!e||l&&e.split("_")[0]!==o.toString()?n(a)?a:(0,mn.uniqueId)(a):n(e)||r(e,t)?e:i?(0,mn.uniqueId)(a):a}(c,l,p,b,t);r!==c?(e.uniqueId=r,n({uniqueId:r}),h(r,l)):(n({uniqueId:c}),h(c,l))}),[]);const g=d(c),m=(0,s.useBlockProps)({id:g,className:u()(r,g),"data-field-id":c});return(0,t.createElement)(o.Fragment,null,(0,t.createElement)(M,{attributes:e}),(0,t.createElement)(gn,{attributes:e,setAttributes:n}),(0,t.createElement)(f,{fieldProps:m,attributes:e,context:a}))};yn.propTypes=wn;const xn=yn;"firebox"===window.typenow&&(0,e.registerBlockType)("firebox/dropdown",{icon:()=>(0,t.createElement)("svg",{width:"24",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"firebox-gutenberg-block-list-item"},(0,t.createElement)("rect",{x:"11",y:"12",width:"26",height:"2",fill:"#2438E9"}),(0,t.createElement)("rect",{x:"11",y:"23",width:"26",height:"2",fill:"#2438E9"}),(0,t.createElement)("rect",{x:"11",y:"34",width:"26",height:"2",fill:"#2438E9"}),(0,t.createElement)("path",{d:"M4 41V7C4 5.89543 4.89543 5 6 5H37H42C43.1046 5 44 5.89543 44 7V41C44 42.1046 43.1046 43 42 43H37H15H6C4.89543 43 4 42.1046 4 41Z",stroke:"#2438E9",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",fill:"transparent"})),edit:xn,save:({attributes:e})=>(0,t.createElement)(t.Fragment,null,(0,t.createElement)(M,{attributes:e}))})})()})();