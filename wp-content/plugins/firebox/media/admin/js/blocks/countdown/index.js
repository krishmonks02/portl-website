(()=>{var e={9894:()=>{const e="SET_BREAKPOINT",t={breakpoint:"desktop"};wp.data.select("fpframework-breakpoints")||wp.data.registerStore("fpframework-breakpoints",{reducer:(r=t,o)=>o.type===e?{...r,breakpoint:o.breakpoint}:r,actions:{onBreakpointSet:t=>({type:e,breakpoint:t})},selectors:{getBreakpoint:e=>e.breakpoint}})},4184:(e,t)=>{var r;!function(){"use strict";var o={}.hasOwnProperty;function n(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if("string"===a||"number"===a)e.push(r);else if(Array.isArray(r)){if(r.length){var l=n.apply(null,r);l&&e.push(l)}}else if("object"===a){if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]")){e.push(r.toString());continue}for(var i in r)o.call(r,i)&&r[i]&&e.push(i)}}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):void 0===(r=function(){return n}.apply(t,[]))||(e.exports=r)}()},2703:(e,t,r)=>{"use strict";var o=r(414);function n(){}function a(){}a.resetWarningCache=n,e.exports=function(){function e(e,t,r,n,a,l){if(l!==o){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:n};return r.PropTypes=r,r}},5697:(e,t,r)=>{e.exports=r(2703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},5192:(e,t)=>{var r;!function(){"use strict";var o={}.hasOwnProperty;function n(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if("string"===a||"number"===a)e.push(r);else if(Array.isArray(r)){if(r.length){var l=n.apply(null,r);l&&e.push(l)}}else if("object"===a){if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]")){e.push(r.toString());continue}for(var i in r)o.call(r,i)&&r[i]&&e.push(i)}}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):void 0===(r=function(){return n}.apply(t,[]))||(e.exports=r)}()},9281:(e,t,r)=>{"use strict";var o=r(7889);function n(){}function a(){}a.resetWarningCache=n,e.exports=function(){function e(e,t,r,n,a,l){if(l!==o){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:n};return r.PropTypes=r,r}},1277:(e,t,r)=>{e.exports=r(9281)()},7889:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},t={};function r(o){var n=t[o];if(void 0!==n)return n.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,r),a.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=window.wp.blocks,t=window.React;var o=r(4184),n=r.n(o);const a=window.wp.i18n,l=window.wp.data,i=window.wp.blockEditor,s=window.wp.element;var c=r(5697),u=r.n(c);const d=window.wp.components;var p=r(1277),m=r.n(p);const b={value:m().oneOfType([m().string,m().number]).isRequired,onChange:m().func.isRequired,fontSizes:m().array,label:m().node},f=e=>e&&"px"!==e?e?.includes?.("px")?parseInt(e.replace("px",""),10):e:"",g=({value:e,onChange:r,label:o,fontSizes:n=[{name:__("Small"),slug:"small",size:13},{name:__("Normal"),slug:"normal",size:16},{name:__("Medium"),slug:"medium",size:24},{name:__("Big"),slug:"big",size:32}],...a})=>(0,t.createElement)("div",{className:"wp-block-fpframework-font-size-control-label"},o&&(0,t.createElement)("p",{className:"components-base-control__label"},o),(0,t.createElement)(d.FontSizePicker,{label:"",value:e?`${f(e)}px`:void 0,onChange:e=>r(f(e)),...a,fontSizes:n,__nextHasNoMarginBottom:!0}));g.propTypes=b;const _=g;var h=r(5192),v=r.n(h);r(9894);const w=({children:e,childrenClass:r="",wrapperClass:o=""})=>{const n=(0,l.useSelect)((e=>e("fpframework-breakpoints").getBreakpoint())),{onBreakpointSet:a}=(0,l.useDispatch)("fpframework-breakpoints");return(0,t.createElement)("div",{className:`components-base-control wp-block-fpframework-responsive-control-wrap ${o}`},(0,t.createElement)("div",{className:"wp-block-fpframework-responsive-control-wrap-buttons"},[{value:"desktop",icon:"desktop"},{value:"tablet",icon:"tablet"},{value:"mobile",icon:"smartphone"}].map(((e,r)=>(0,t.createElement)("button",{key:r,onClick:()=>a(e.value),className:v()({"wp-block-fpframework-responsive-control-wrap-button":!0,active:e.value===n})},(0,t.createElement)("span",{className:`dashicons dashicons-${e.icon}`}))))),(0,t.createElement)("div",{className:r},e(n)))},k=({setAttributes:e,attributeKey:r,attributes:o,label:n,breakpoint:l,positionsLabels:i=[],positions:s=["top","right","bottom","left"]})=>{const c=o[r],u=s[0],p=s[1],m=s[2],b=s[3],f=o[r]?.linked;return(0,t.createElement)("div",{className:"wp-block-fpframework-control-spacing components-base-control"},(0,t.createElement)("p",{className:"wp-block-fpframework-control-spacing-label"},n),(0,t.createElement)("div",{className:"wp-block-fpframework-control-spacing-controls-wrap"},(0,t.createElement)("div",{className:"wp-block-fpframework-control-spacing-controls"},s.map(((o,n)=>{var a;return(0,t.createElement)("div",{key:n,className:"wp-block-fpframework-spacing-controls-item"},(0,t.createElement)(d.TextControl,{value:l?c[l][o]:c[o],type:"number",min:-200,max:200,step:1,onChange:t=>((t,o)=>{if(l)return f?void e({[r]:{...c,[l]:{...c[l],[u]:t,[p]:t,[m]:t,[b]:t}}}):void e({[r]:{...c,[l]:{...c[l],[o]:t}}});e(f?{[r]:{...c,[u]:t,[p]:t,[m]:t,[b]:t}}:{[r]:{...c,[o]:t}})})(t,o)}),(0,t.createElement)("p",{className:"label",dangerouslySetInnerHTML:{__html:null!==(a=i[o])&&void 0!==a?a:o}}))}))),(0,t.createElement)(d.Button,{isSecondary:!f,isPrimary:f,className:"components-toolbar__control",label:(0,a.__)("Link Values","fpf-framework"),icon:"admin-links",onClick:()=>{e({[r]:{...c,linked:!f}})}})))},x=({label:e,disableAlpha:r=!1,wrapperClass:o="",value:n,help:i="",defaultValue:c="",onChange:u})=>{const[p,m]=(0,s.useState)(!1),[b,f]=(0,s.useState)(!1),g=(0,l.useSelect)((e=>e("core/block-editor").getSettings().colors));return(0,t.createElement)("div",{className:"components-base-control"},(0,t.createElement)("div",{className:`wp-block-fpframework-color-selector-settings-container ${o}`},(0,t.createElement)("div",{className:"inner"},e&&(0,t.createElement)("span",{className:"wp-block-fpframework-color-selector-label"},e),(0,t.createElement)("div",{className:"actions"},n&&n!==c&&(0,t.createElement)(d.Tooltip,{text:(0,a.__)("Reset","fpf-framework")},(0,t.createElement)(d.Button,{className:"components-color-palette__clear",type:"button",onClick:()=>{u(c)},isSmall:!0},(0,t.createElement)(d.Dashicon,{icon:"redo"}))),(0,t.createElement)("div",{className:"wp-block-fpframework-color-selector-color-click"},p&&(0,t.createElement)(s.Fragment,null,(0,t.createElement)(d.Popover,{position:"top left",className:"wp-block-fpframework-popover-color",onClose:()=>m(!1)},(0,t.createElement)(d.ColorPicker,{key:b,color:n,onChangeComplete:e=>{if(e.rgb&&1===e.rgb.a||r)u(e.hex);else{const{r:t,g:r,b:o,a:n}=e.rgb;u(`rgba(${t}, ${r}, ${o}, ${n})`)}},disableAlpha:!1}),g.length>0&&(0,t.createElement)("div",{className:"components-color-palette"},g.map((e=>(0,t.createElement)("div",{key:e.slug,className:"components-color-palette__item-wrapper"},(0,t.createElement)(d.Button,{type:"button",className:"components-color-palette__item "+(n===e.color?"is-active":""),onClick:()=>{u(e.color),f((e=>!e))},style:{backgroundColor:e.color,color:e.color},"aria-label":e.name?
// translators: %s: The name of the color i.e.: "blue".
// translators: %s: The name of the color i.e.: "blue".
(0,a.sprintf)((0,a.__)("Color: %s"),name):
// translators: %s: color hex code i.e.: "#ffffff".
// translators: %s: color hex code i.e.: "#ffffff".
(0,a.sprintf)((0,a.__)("Color hex code: %s"),e),"aria-pressed":e.color===n}),e.color===n&&(0,t.createElement)(d.Dashicon,{icon:"saved"}))))),(0,t.createElement)("div",{className:"wp-block-fpframework-color-selector-popover-footer"},(0,t.createElement)(d.Button,{isSecondary:!0,isSmall:!0,disabled:!n,onClick:()=>u(c)},(0,a.__)("Clear","fpf-framework"))))),(0,t.createElement)(d.Tooltip,{text:(0,a.__)("Select Color","fpf-framework")},(0,t.createElement)(d.Button,{className:"wp-block-fpframework-color-selector-icon-indicator",onMouseDown:e=>{e.preventDefault(),e.stopPropagation()},onClick:()=>{m((e=>!e))}},(0,t.createElement)(d.ColorIndicator,{className:"wp-block-fpframework-color-selector-indicator"+(""===n?" is-empty":""),colorValue:n})))))),i&&(0,t.createElement)("div",{className:"wp-block-fpframework-color-selector-help"},i)))},E={attributes:m().object.isRequired,setAttributes:m().func.isRequired,attributePrefix:m().string,maxBorderWidth:m().number,showBorderRadius:m().bool,defaultValues:m().shape({color:m().string,radius:m().object,width:m().string})},y=({attributes:e,setAttributes:r,attributePrefix:o="block",title:n="",defaultValues:l={},maxBorderWidth:i=100,showBorderRadius:c=!0})=>{const u=o?e[`${o}BorderColor`]:e.borderColor,p=o?e[`${o}BorderWidth`]:e.borderWidth,m=o?e[`${o}BorderStyle`]:e.borderStyle,b=o?`${o}BorderRadius`:"borderRadius";return(0,t.createElement)(s.Fragment,null,(0,t.createElement)(d.SelectControl,{label:n,value:m,options:[{value:"none",label:(0,a.__)("None","fpf-framework")},{value:"solid",label:(0,a.__)("Solid","fpf-framework")},{value:"dotted",label:(0,a.__)("Dotted","fpf-framework")},{value:"dashed",label:(0,a.__)("Dashed","fpf-framework")},{value:"double",label:(0,a.__)("Double","fpf-framework")},{value:"groove",label:(0,a.__)("Groove","fpf-framework")},{value:"ridge",label:(0,a.__)("Ridge","fpf-framework")}],onChange:e=>{r(o?{[`${o}BorderStyle`]:e}:{borderStyle:e})}}),"none"!==m&&!!m&&(0,t.createElement)(s.Fragment,null,(0,t.createElement)(x,{value:u||"",defaultValue:l.color||"",label:(0,a.__)("Border color","fpf-framework"),disableAlpha:!1,onChange:e=>{r(o?{[`${o}BorderColor`]:e}:{borderColor:e})}}),(0,t.createElement)(d.RangeControl,{label:(0,a.__)("Border Width (px)","fpf-framework"),min:0,max:i,value:p,onChange:e=>{r(o?{[`${o}BorderWidth`]:e}:{borderWidth:e})},step:1,initialPosition:l.width||0,allowReset:!0})),c&&(0,t.createElement)(w,null,(o=>(0,t.createElement)(k,{label:(0,a.__)("Border Radius (px)","fpf-framework"),attributeKey:b,attributes:e,setAttributes:r,breakpoint:o,positions:["top_left","top_right","bottom_right","bottom_left"],positionsLabels:{top_left:`<div>${(0,a.__)("TOP","fpf-framework")}</div><div>${(0,a.__)("LEFT","fpf-framework")}</div>`,top_right:`<div>${(0,a.__)("TOP","fpf-framework")}</div><div>${(0,a.__)("RIGHT","fpf-framework")}</div>`,bottom_right:`<div>${(0,a.__)("BOTTOM","fpf-framework")}</div><div>${(0,a.__)("RIGHT","fpf-framework")}</div>`,bottom_left:`<div>${(0,a.__)("BOTTOM","fpf-framework")}</div><div>${(0,a.__)("LEFT","fpf-framework")}</div>`}}))))};y.propTypes=E;const C=y,B={attributes:u().object.isRequired,actions:u().array,setAttributes:u().func.isRequired},T=({attributes:e,actions:r,setAttributes:o})=>{const{countdownType:n,value:l,timezone:c,dynamicDays:u,dynamicHours:p,dynamicMinutes:m,dynamicSeconds:b,countdownAction:f,separator:g,doubleZeroesFormat:h,digitsWrapperBackgroundColor:v,finishText:E,redirectURL:y,theme:B,format:T,backgroundColor:$,itemBorderWidth:S,itemBorderStyle:O,itemBorderColor:L,itemBackgroundColor:I,days:D,daysLabel:R,hours:N,hoursLabel:P,minutes:W,minutesLabel:F,seconds:j,secondsLabel:A,unitLabelMarginTop:z,unitLabelTextColor:M,digitBackgroundColor:K,digitTextColor:q,digitMinWidth:H,digitsWrapperMinWidth:U,itemSize:G,align:V,digitsFontSize:Z,labelFontSize:Y,digitsFontWeight:J,labelFontWeight:Q,gap:X,digitsGap:ee}=e,te=D+N+W+j;return(0,t.createElement)(i.InspectorControls,null,(0,t.createElement)(d.PanelBody,{title:(0,a.__)("Countdown Type","firebox"),initialOpen:!0},(0,t.createElement)(d.RadioControl,{className:"fpframework-gutenberg-m-b-5",options:[{label:(0,a.__)("Fixed","firebox"),value:"static"},{label:(0,a.__)("Evergreen","firebox"),value:"dynamic"}],selected:n,onChange:e=>{o({countdownType:e,dynamicDays:"dynamic"!==e||u?u:1})}}),"static"==n&&(0,t.createElement)(s.Fragment,null,(0,t.createElement)("div",{className:"fpframework-gutenberg-help-text fpframework-gutenberg-m-b-10"},(0,a.__)("Counts down to a specific date and time. Universal deadline for all visitors.","fireplugins")),(0,t.createElement)(d.DateTimePicker,{currentDate:l,onChange:e=>o({value:e})}),(0,t.createElement)(d.RadioControl,{label:(0,a.__)("Timezone","firebox"),options:[{label:(0,a.__)("Use WordPress timezone","firebox"),value:"server"},{label:(0,a.__)("Use Visitors' timezone","firebox"),value:"client"}],selected:c,onChange:e=>o({timezone:e}),className:"fpframework-gutenberg-m-t-10"})),"dynamic"==n&&(0,t.createElement)(s.Fragment,null,(0,t.createElement)("div",{className:"fpframework-gutenberg-help-text fpframework-gutenberg-m-b-10"},(0,a.__)("Set-and-forget solution. The countdown starts when your visitor sees the offer.","fireplugins")),(0,t.createElement)("div",{className:"fpframework-gutenberg-flex fpframework-gutenberg-gap-5"},(0,t.createElement)(d.__experimentalNumberControl,{value:u,label:(0,a.__)("Days","fireplugins"),onChange:e=>o({dynamicDays:parseInt(e,10)||0}),min:0,max:365}),(0,t.createElement)(d.__experimentalNumberControl,{value:p,label:(0,a.__)("Hrs","fireplugins"),onChange:e=>o({dynamicHours:parseInt(e,10)||0}),min:0,max:999}),(0,t.createElement)(d.__experimentalNumberControl,{value:m,label:(0,a.__)("Mins","fireplugins"),onChange:e=>o({dynamicMinutes:parseInt(e,10)||0}),min:0,max:999}),(0,t.createElement)(d.__experimentalNumberControl,{value:b,label:(0,a.__)("Secs","fireplugins"),onChange:e=>o({dynamicSeconds:parseInt(e,10)||0}),min:0,max:999})))),(0,t.createElement)(d.PanelBody,{title:(0,a.__)("Countdown End Action","firebox")},(0,t.createElement)(d.RadioControl,{options:r,selected:f,onChange:e=>o({countdownAction:e})}),"message"==f&&(0,t.createElement)(d.TextareaControl,{label:(0,a.__)("Show Message","firebox"),value:E,onChange:e=>o({finishText:e})}),"redirect"==f&&(0,t.createElement)(d.TextControl,{label:(0,a.__)("Redirect URL","firebox"),value:y,onChange:e=>o({redirectURL:e}),rows:10})),(0,t.createElement)(d.PanelBody,{title:(0,a.__)("Theme","firebox")},(0,t.createElement)(d.RadioControl,{options:[{label:(0,a.__)("Default","firebox"),value:"default"},{label:(0,a.__)("One line","firebox"),value:"oneline"},{label:(0,a.__)("Custom","firebox"),value:"custom"}],className:"fpframework-gutenberg-m-b-5",default:"default",selected:B,onChange:e=>o({theme:e,format:"custom"===e&&""===T?"{days} days, {hours} hours, {minutes} minutes and {seconds} seconds":T,digitMinWidth:"oneline"===e?0:H,digitsFontSize:"oneline"===e?{desktop:16,tablet:16,mobile:16}:{desktop:25,tablet:25,mobile:25},labelFontSize:"oneline"===e?{desktop:16,tablet:16,mobile:16}:{desktop:13,tablet:13,mobile:13},digitsGap:"oneline"===e?{desktop:0,tablet:0,mobile:0}:ee,doubleZeroesFormat:"oneline"!==e&&h})}),"custom"==B&&(0,t.createElement)(s.Fragment,null,(0,t.createElement)("div",{className:"fpframework-gutenberg-help-text fpframework-gutenberg-m-b-10"},(0,t.createElement)("div",null,(0,a.__)("Using the Custom theme option, you can write your own HTML to create a countdown tailored to your needs.","firebox")),(0,t.createElement)("div",null,(0,a.__)("Available Tags:","firebox"),(0,t.createElement)("br",null),(0,t.createElement)("ul",null,(0,t.createElement)("li",null,"• "," {days}"),(0,t.createElement)("li",null,"• "," {hours}"),(0,t.createElement)("li",null,"• "," {minutes}"),(0,t.createElement)("li",null,"• "," {seconds}")),(0,a.__)("Example:","firebox")," ",(0,t.createElement)("span",null,"{minutes}m:{seconds}s")," ",(0,a.__)("will produce a countdown with output: 35m:28s","firebox"))),(0,t.createElement)(d.TextareaControl,{label:(0,a.__)("Format","firebox"),value:T,onChange:e=>o({format:e}),rows:10}))),(0,t.createElement)(d.PanelBody,{title:(0,a.__)("Block","firebox"),initialOpen:!1},(0,t.createElement)("p",null,(0,a.__)("Alignment","firebox")),(0,t.createElement)(i.AlignmentToolbar,{isCollapsed:!1,value:V,onChange:e=>o({align:e})}),(0,t.createElement)(w,null,(r=>(0,t.createElement)(k,{label:(0,a.__)("Block Margin (px)","firebox"),attributeKey:"margin",attributes:e,setAttributes:o,breakpoint:r}))),(0,t.createElement)(w,null,(r=>(0,t.createElement)(k,{label:(0,a.__)("Block Padding (px)","firebox"),attributeKey:"padding",attributes:e,setAttributes:o,breakpoint:r}))),(0,t.createElement)(x,{label:(0,a.__)("Background Color","firebox"),value:$,onChange:e=>o({backgroundColor:e})})),(0,t.createElement)(d.PanelBody,{title:(0,a.__)("Unit Display","firebox"),initialOpen:!1},"custom"!=B&&(0,t.createElement)(s.Fragment,null,(0,t.createElement)(d.ToggleControl,{label:(0,a.__)("Show Days","firebox"),default:!0,checked:D,onChange:e=>{(e||1!=te)&&o({days:e})}}),D&&(0,t.createElement)(d.TextControl,{label:(0,a.__)("Days Label","firebox"),value:R,onChange:e=>o({daysLabel:e})}),(0,t.createElement)(d.ToggleControl,{label:(0,a.__)("Show Hours","firebox"),default:!0,checked:N,onChange:e=>{(e||1!=te)&&o({hours:e})}}),N&&(0,t.createElement)(d.TextControl,{label:(0,a.__)("Hours Label","firebox"),value:P,onChange:e=>o({hoursLabel:e})}),(0,t.createElement)(d.ToggleControl,{label:(0,a.__)("Show Mnutes","firebox"),default:!0,checked:W,onChange:e=>{(e||1!=te)&&o({minutes:e})}}),W&&(0,t.createElement)(d.TextControl,{label:(0,a.__)("Minutes Label","firebox"),value:F,onChange:e=>o({minutesLabel:e})}),(0,t.createElement)(d.ToggleControl,{label:(0,a.__)("Show Seconds","firebox"),default:!0,checked:j,onChange:e=>{(e||1!=te)&&o({seconds:e})}}),j&&(0,t.createElement)(d.TextControl,{label:(0,a.__)("Seconds Label","firebox"),value:A,onChange:e=>o({secondsLabel:e})}),"default"==B&&(0,t.createElement)(d.ToggleControl,{label:(0,a.__)("Enable separator","firebox"),default:!1,checked:g,onChange:e=>o({separator:e})})),(0,t.createElement)(d.ToggleControl,{label:(0,a.__)("Enable 00 Number Format","firebox"),default:!0,checked:h,onChange:e=>o({doubleZeroesFormat:e})})),!["oneline","custom"].includes(B)&&(0,t.createElement)(d.PanelBody,{title:(0,a.__)("Unit Item","firebox"),initialOpen:!1},(0,t.createElement)(w,{wrapperClass:"fpframework-gutenberg-m-b-0"},(e=>(0,t.createElement)(d.__experimentalNumberControl,{label:(0,a.__)("Size (px)","firebox"),min:0,max:400,value:G[e],className:"fpframework-gutenberg-m-b-5",onChange:t=>{o({itemSize:{...G,[e]:null!=t?t:0}})}}))),(0,t.createElement)("div",{className:"fpframework-gutenberg-help-text fpframework-gutenberg-m-b-10"},(0,a.__)("Sets the item's width and height in pixels. Leave empty for auto width.")),(0,t.createElement)(w,{wrapperClass:"fpframework-gutenberg-m-b-5"},(e=>(0,t.createElement)(d.__experimentalNumberControl,{value:X[e],label:(0,a.__)("Gap","firebox"),onChange:t=>o({gap:{...X,[e]:t}}),min:0,max:100}))),(0,t.createElement)("div",{className:"fpframework-gutenberg-help-text fpframework-gutenberg-m-b-10"},(0,a.__)("Set the space between the units.","firebox")),(0,t.createElement)(C,{attributes:e,setAttributes:o,maxBorderWidth:30,attributePrefix:"item",showBorderRadius:!1,title:(0,a.__)("Border","firebox")}),(0,t.createElement)(x,{label:(0,a.__)("Background Color","firebox"),value:I,onChange:e=>o({itemBackgroundColor:e})}),("none"!==O&&S&&L||I)&&(0,t.createElement)(w,null,(r=>(0,t.createElement)(k,{label:(0,a.__)("Border Radius (px)","fpf-framework"),attributeKey:"itemBorderRadius",attributes:e,setAttributes:o,breakpoint:r,positions:["top_left","top_right","bottom_right","bottom_left"],positionsLabels:{top_left:`<div>${(0,a.__)("TOP","fpf-framework")}</div><div>${(0,a.__)("LEFT","fpf-framework")}</div>`,top_right:`<div>${(0,a.__)("TOP","fpf-framework")}</div><div>${(0,a.__)("RIGHT","fpf-framework")}</div>`,bottom_right:`<div>${(0,a.__)("BOTTOM","fpf-framework")}</div><div>${(0,a.__)("RIGHT","fpf-framework")}</div>`,bottom_left:`<div>${(0,a.__)("BOTTOM","fpf-framework")}</div><div>${(0,a.__)("LEFT","fpf-framework")}</div>`}})))),"custom"!==B&&(0,t.createElement)(s.Fragment,null,(0,t.createElement)(d.PanelBody,{title:(0,a.__)("Unit Digits Container","firebox"),initialOpen:!1},(0,t.createElement)(d.__experimentalNumberControl,{label:(0,a.__)("Digits Container Min Width (px)","firebox"),min:0,max:500,value:U,className:"fpframework-gutenberg-m-b-5",onChange:e=>o({digitsWrapperMinWidth:parseInt(e,10)||0})}),(0,t.createElement)("div",{className:"fpframework-gutenberg-help-text fpframework-gutenberg-m-b-10"},(0,a.__)("Sets the minimum width for the digits container. Set to 0 for auto width.","firebox")),(0,t.createElement)(w,null,(r=>(0,t.createElement)(k,{label:(0,a.__)("Padding (px)","firebox"),attributeKey:"digitsWrapperPadding",attributes:e,setAttributes:o,breakpoint:r}))),(0,t.createElement)(w,null,(r=>(0,t.createElement)(k,{label:(0,a.__)("Border Radius (px)","firebox"),attributeKey:"digitsWrapperBorderRadius",attributes:e,setAttributes:o,breakpoint:r,positions:["top_left","top_right","bottom_right","bottom_left"],positionsLabels:{top_left:`<div>${(0,a.__)("TOP","fpf-framework")}</div><div>${(0,a.__)("LEFT","fpf-framework")}</div>`,top_right:`<div>${(0,a.__)("TOP","fpf-framework")}</div><div>${(0,a.__)("RIGHT","fpf-framework")}</div>`,bottom_right:`<div>${(0,a.__)("BOTTOM","fpf-framework")}</div><div>${(0,a.__)("RIGHT","fpf-framework")}</div>`,bottom_left:`<div>${(0,a.__)("BOTTOM","fpf-framework")}</div><div>${(0,a.__)("LEFT","fpf-framework")}</div>`}}))),(0,t.createElement)(x,{label:(0,a.__)("Background Color","firebox"),value:v||"",onChange:e=>o({digitsWrapperBackgroundColor:e})})),(0,t.createElement)(d.PanelBody,{title:(0,a.__)("Unit Digit","firebox"),initialOpen:!1},(0,t.createElement)(w,null,(e=>(0,t.createElement)(_,{label:(0,a.__)("Font Size","firebox"),value:Z[e],onChange:t=>{o({digitsFontSize:{...Z,[e]:null!=t?t:""}})}}))),(0,t.createElement)(d.SelectControl,{label:(0,a.__)("Font Weight","firebox"),options:[{label:(0,a.__)("300","firebox"),value:"300"},{label:(0,a.__)("400","firebox"),value:"400"},{label:(0,a.__)("500","firebox"),value:"500"},{label:(0,a.__)("600","firebox"),value:"600"},{label:(0,a.__)("700","firebox"),value:"700"}],value:J,onChange:e=>o({digitsFontWeight:e})}),(0,t.createElement)(d.__experimentalNumberControl,{label:(0,a.__)("Digit Min Width (px)","firebox"),min:0,max:500,value:H,className:"fpframework-gutenberg-m-b-5",onChange:e=>o({digitMinWidth:parseInt(e,10)||0})}),(0,t.createElement)("div",{className:"fpframework-gutenberg-help-text fpframework-gutenberg-m-b-10"},(0,a.__)("Sets the minimum width for each digit. Set to 0 for auto width.","firebox")),(0,t.createElement)(w,null,(r=>(0,t.createElement)(k,{label:(0,a.__)("Padding (px)","firebox"),attributeKey:"digitsPadding",attributes:e,setAttributes:o,breakpoint:r}))),(0,t.createElement)(C,{attributes:e,setAttributes:o,maxBorderWidth:30,attributePrefix:"digit",showBorderRadius:!1,title:(0,a.__)("Border","firebox")}),(0,t.createElement)(w,null,(r=>(0,t.createElement)(k,{label:(0,a.__)("Border Radius (px)","firebox"),attributeKey:"digitBorderRadius",attributes:e,setAttributes:o,breakpoint:r,positions:["top_left","top_right","bottom_right","bottom_left"],positionsLabels:{top_left:`<div>${(0,a.__)("TOP","fpf-framework")}</div><div>${(0,a.__)("LEFT","fpf-framework")}</div>`,top_right:`<div>${(0,a.__)("TOP","fpf-framework")}</div><div>${(0,a.__)("RIGHT","fpf-framework")}</div>`,bottom_right:`<div>${(0,a.__)("BOTTOM","fpf-framework")}</div><div>${(0,a.__)("RIGHT","fpf-framework")}</div>`,bottom_left:`<div>${(0,a.__)("BOTTOM","fpf-framework")}</div><div>${(0,a.__)("LEFT","fpf-framework")}</div>`}}))),(0,t.createElement)(w,{wrapperClass:"fpframework-gutenberg-m-b-5"},(e=>(0,t.createElement)(d.__experimentalNumberControl,{value:ee[e],label:(0,a.__)("Gap","firebox"),onChange:t=>o({digitsGap:{...ee,[e]:t}}),min:0,max:50}))),(0,t.createElement)("div",{className:"fpframework-gutenberg-help-text fpframework-gutenberg-m-b-10"},(0,a.__)("Set the space between the units.","firebox")),(0,t.createElement)(x,{label:(0,a.__)("Background Color","firebox"),value:K||"",onChange:e=>o({digitBackgroundColor:e})}),(0,t.createElement)(x,{label:(0,a.__)("Text Color","firebox"),value:q||"#333",onChange:e=>o({digitTextColor:e})})),(0,t.createElement)(d.PanelBody,{title:(0,a.__)("Unit Label","firebox"),initialOpen:!1},(0,t.createElement)(w,null,(e=>(0,t.createElement)(_,{label:(0,a.__)("Font Size","firebox"),value:Y[e],onChange:t=>{o({labelFontSize:{...Y,[e]:null!=t?t:""}})}}))),(0,t.createElement)(d.SelectControl,{label:(0,a.__)("Font Weight","firebox"),options:[{label:(0,a.__)("300","firebox"),value:"300"},{label:(0,a.__)("400","firebox"),value:"400"},{label:(0,a.__)("500","firebox"),value:"500"},{label:(0,a.__)("600","firebox"),value:"600"},{label:(0,a.__)("700","firebox"),value:"700"}],value:Q,onChange:e=>o({labelFontWeight:e})}),"oneline"!==B&&(0,t.createElement)(d.__experimentalNumberControl,{label:(0,a.__)("Space between label and digits (px)","firebox"),min:0,max:99,value:z,className:"components-base-control",onChange:e=>o({unitLabelMarginTop:parseInt(e,10)||0})}),(0,t.createElement)(x,{label:(0,a.__)("Text Color","firebox"),value:M||"#333",onChange:e=>o({unitLabelTextColor:e})}))))};T.propTypes=B;const $=T,S=e=>`block-${e}`,O=e=>!!e&&Object.values(e).some((e=>null!=e&&""!==e)),L={desktop:"",tablet:991,mobile:575},I=(e=[])=>{if(!e||!e.length)return[];const t=e.reduce(((e,t)=>{const r=(e=>{if(!e)return"";const t=e.match(/[^{\}]+(?=})/gi)[0];return{selector:e.replace(t,"").replace("{","").replace("}","").trim(),style:t.trim()}})(t),o=e.find((({selector:e})=>e===r.selector));return o?(o.styles.push(r.style),e):(e.push({selector:r.selector,styles:[r.style]}),e)}),[]);return t.map((e=>`${e.selector} { ${e.styles.join(" ")} }`))},D=e=>({...e,rules:I(e.rules)}),R=({id:e,value:t,rule:r,unit:o="",edgeCase:n,breakpoint:l="desktop",oneline:i=!1})=>{if(null==t||""===t)return null;let s=r.includes("[BLOCK_ID]")?r.replace("[BLOCK_ID]",e):`${r}`;if((e=>["box-shadow"].some((t=>e.includes(t))))(r))return["inset","outset"].includes(t.type)&&""!==t.color?(0,a.sprintf)(s,`${t.left}px ${t.top}px ${t.width}px ${t.spread}px ${"outset"===t.type?"":t.type} ${t.color}`):null;if((e=>["text-shadow"].some((t=>e.includes(t))))(r))return""!==t.hpos&&""!==t.vpos&&""!==t.blur&&""!==t.color?(0,a.sprintf)(s,`${t.hpos}px ${t.vpos}px ${t.blur}px ${t.color}`):null;if((e=>["padding","border-radius","margin","position-items"].some((t=>e.includes(t)))&&!["padding-","margin-"].some((t=>e.includes(t))))(r)){let e=r.match(/margin|border-radius|padding|position-items/gi)[0];if("position-items"===e){const e=["top","right","bottom","left"].map((e=>{if(null!=t[e]&&""!==t[e])return`${e}: ${"auto"===t[e]?"auto":`${t[e]}${o}`};`})).join(" ");return e.trim()?(c=` ${e} `,s.replace(/[^{\}]+(?=})/gi,c)):null}{const r=((e,t,r="",o=!1)=>{if(!e)return!1;if(O(e)||O(e[t])){const n=e[t]||e;if(["margin","padding"].includes(r)){if(4===Object.values(n).length&&1===new Set(Object.values(n)).size)return`${n.top}px`;if(Object.values(n).every((e=>""!==e))){if(n.top===n.bottom&&n.left===n.right)return`${n.top||0}px ${n.left||0}px`;Object.values(n).map((function(e){return`${e||0}px`})).join(" ")}let e=[],t=["top","right","bottom","left"];return o?(t.forEach((t=>{e.push(`${n[t]||0}px`)})),e.join(" ")):(t.forEach((t=>{""!==n[t]&&e.push(r+"-"+t+":"+n[t]+"px;")})),e)}if("border-radius"===r){if(4===Object.values(n).length&&1===new Set(Object.values(n)).size)return`${n.top_left}px`;if(Object.values(n).every((e=>""!==e))){if(n.top_left===n.bottom_right&&n.bottom_left===n.top_right)return`${n.top_left||0}px ${n.bottom_left||0}px`;Object.values(n).map((function(e){return`${e||0}px`})).join(" ")}let e=[],t=["top_left","top_right","bottom_right","bottom_left"];return o?(t.forEach((t=>{e.push(`${n[t]||0}px`)})),e.join(" ")):(t.forEach((t=>{""!==n[t]&&e.push("border-"+t.replace("_","-")+"-radius:"+n[t]+"px;")})),e)}}return!1})(t,null,e,i);if(!r)return null;if(r&&"string"==typeof r)return(0,a.sprintf)(s,r)||null;if(r&&"object"==typeof r)return s=s.replace("margin: ",""),s=s.replace("padding: ",""),s=s.replace("border-radius: ",""),s=s.replace("%s;","%s"),(0,a.sprintf)(s,r.join(""))||null}}var c;if((e=>!!e&&"object"==typeof e&&"url"in e&&"attachment"in e&&"repeat"in e)(t)){if(!t.url)return;const e=[`background-image: ${"none"!==t.url?`url(${t.url})`:"none"};`,`background-repeat: ${t.repeat};`,`background-size: ${t.size};`,`background-position: ${t.position};`,`background-attachment: ${t.attachment};`].join(" ");return(0,a.sprintf)(s,e)}if(n){const e=n.find((({edge:e})=>e===t));if(e)return""===e.value||e.skipInBreakpoints&&e.skipInBreakpoints.includes(l)?null:(o=e.unit||"",(0,a.sprintf)(s,`${e.value}${o}`))}return(0,a.sprintf)(s,`${t}${o}`)},N=e=>s.Children.toArray(e).map((e=>Array.isArray(e.props.children)?N(e.props.children):e)).reduce(((e,t)=>Array.isArray(t)?[...e,...t]:[...e,t]),[]).filter((e=>e.type&&"Rule"===e.type.displayName)),P={children:m().oneOfType([m().node,m().array]),id:m().string},W=({id:e="",children:r})=>{const o=(({id:e,children:t,getCSSRule:r,mapper:o=(e=>e)})=>{const n=[{name:"desktop",media:"max",width:L.desktop,rules:[]},{name:"tablet",media:"max",width:L.tablet,rules:[]},{name:"mobile",media:"max",width:L.mobile,rules:[]},{name:"desktop-only",media:"min",width:L.tablet+1,rules:[]},{name:"tablet-only",media:"min",width:L.mobile+1,rules:[]}];return N(t).reduce(((t,o)=>{const{value:n,rule:a,unit:l,edgeCase:i,breakpointLimit:s,oneline:c}=o.props;if(null==n)return t;if("object"!=typeof n||!("desktop"in n)){const o=t.find((({name:e})=>"desktop"===e)),s=r({id:e,value:n,rule:a,unit:l,edgeCase:i,breakpoint:"desktop",oneline:c});return null!=s&&o.rules.push(s),t}return Object.keys(n).forEach((o=>{const u=t.find((({name:e})=>s&&"mobile"!==o?`${o}-only`===e:e===o)),d=r({id:e,value:n[o],rule:a,unit:l,edgeCase:i,breakpoint:o,oneline:c});null!=d&&u&&u.rules.push(d)})),t}),n).map(o)})({id:e,children:r,getCSSRule:R,mapper:D});return(e=>e.every((e=>0===e.rules.length)))(o)?null:(0,t.createElement)("style",{dangerouslySetInnerHTML:{__html:(n=o,n.reduce(((e,t)=>{if(!t.rules.length)return e;const r=t.rules.map((e=>e.trim())).join("\n");return t.width?"tablet-only"===t.name?`${e}\n\n\t\t\t\t@media (min-width: ${L.mobile+1}px) and (max-width: ${L.tablet}px) {\n\t\t\t\t\t${r}\n\t\t\t\t}\n\t\t\t\t`:`${e}\n\n\t\t\t@media (${t.media}-width: ${t.width}px) {\n\t\t\t\t${r}\n\t\t\t}\n\t\t\t`:`${e}${r}\n`}),"").trim())}});var n};W.propTypes=P;const F=W,j={value:m().oneOfType([m().string,m().number,m().object]).isRequired,rule:m().string.isRequired,unit:m().oneOf(["","px","%","em","rem","vh","vw","pt","cm","mm"]),edgeCase:m().arrayOf(m().shape({edge:m().any.isRequired,value:m().oneOfType([m().string,m().number]).isRequired,skipInBreakpoints:m().array})),breakpointLimit:m().bool,oneline:m().bool},A=()=>null;A.displayName="Rule",A.propTypes=j;const z=A,M=({attributes:e,prefix:t="block"})=>{const r=(({attributes:e,prefix:t="block"})=>{const r=t?`${t}BorderColor`:"borderColor",o=e&&r in e?e[r]:null,n=t?`${t}BorderWidth`:"borderWidth",a=e&&n in e?e[n]:null,l=t?`${t}BorderStyle`:"borderStyle",i=e&&l in e?e[l]:null;return i&&"none"!==i?{borderColor:o||void 0,borderStyle:"none"!==i&&i?i:void 0,borderWidth:null!=a?`${a}px`:void 0}:{borderColor:void 0,borderStyle:void 0,borderWidth:void 0}})({attributes:e,prefix:t});return r.borderWidth&&r.borderStyle&&r.borderColor?`${r.borderWidth} ${r.borderStyle} ${r.borderColor}`:""},K={attributes:u().object.isRequired,children:u().node},q=({attributes:e,children:r})=>{const{uniqueId:o,margin:n,padding:a,digitsPadding:l,itemBorderRadius:i,digitBorderRadius:s,digitsWrapperPadding:c,digitsWrapperBorderRadius:u,digitsWrapperBackgroundColor:d,digitsFontSize:p,labelFontSize:m,digitsFontWeight:b,labelFontWeight:f,itemSize:g,backgroundColor:_,itemBackgroundColor:h,unitLabelTextColor:v,unitLabelMarginTop:w,digitBackgroundColor:k,digitTextColor:x,digitMinWidth:E,digitsWrapperMinWidth:y,gap:C,digitsGap:B}=e,T=S(o);return(0,t.createElement)(F,{id:T},(0,t.createElement)(z,{value:n,rule:".wp-block-firebox-countdown.[BLOCK_ID] { margin: %s; }",unit:"px"}),(0,t.createElement)(z,{value:a,rule:".wp-block-firebox-countdown.[BLOCK_ID] { padding: %s; }",unit:"px"}),(0,t.createElement)(z,{value:l,rule:".wp-block-firebox-countdown.[BLOCK_ID] { --digit-padding: %s; }",oneline:!0,unit:"px"}),(0,t.createElement)(z,{value:y,rule:".wp-block-firebox-countdown.[BLOCK_ID] { --digits-wrapper-min-width: %s; }",unit:"px",edgeCase:[{edge:"0",value:"auto",unit:""},{edge:0,value:"auto",unit:""}]}),(0,t.createElement)(z,{value:c,rule:".wp-block-firebox-countdown.[BLOCK_ID] { --digits-padding: %s; }",oneline:!0,unit:"px"}),(0,t.createElement)(z,{value:u,rule:".wp-block-firebox-countdown.[BLOCK_ID] { --digits-border-radius: %s; }",oneline:!0}),(0,t.createElement)(z,{value:d,rule:".wp-block-firebox-countdown.[BLOCK_ID] { --digits-background-color: %s; }",unit:""}),(0,t.createElement)(z,{value:M({attributes:e,prefix:"item"}),rule:".wp-block-firebox-countdown.[BLOCK_ID] { --item-border: %s; }",unit:""}),(0,t.createElement)(z,{value:M({attributes:e,prefix:"digit"}),rule:".wp-block-firebox-countdown.[BLOCK_ID] { --digit-border: %s; }",unit:""}),(0,t.createElement)(z,{value:i,rule:".wp-block-firebox-countdown.[BLOCK_ID] { --item-border-radius: %s; }",oneline:!0}),(0,t.createElement)(z,{value:s,rule:".wp-block-firebox-countdown.[BLOCK_ID] { --digit-border-radius: %s; }",oneline:!0}),(0,t.createElement)(z,{value:C,rule:".wp-block-firebox-countdown.[BLOCK_ID] { --gap: %s; }",unit:"px"}),(0,t.createElement)(z,{value:B,rule:".wp-block-firebox-countdown.[BLOCK_ID] { --digits-gap: %s; }",unit:"px"}),(0,t.createElement)(z,{value:p,rule:".wp-block-firebox-countdown.[BLOCK_ID] { --digits-font-size: %s; }",unit:"px"}),(0,t.createElement)(z,{value:m,rule:".wp-block-firebox-countdown.[BLOCK_ID] { --label-font-size: %s; }",unit:"px"}),(0,t.createElement)(z,{value:b,rule:".wp-block-firebox-countdown.[BLOCK_ID] { --digits-font-weight: %s; }",unit:""}),(0,t.createElement)(z,{value:f,rule:".wp-block-firebox-countdown.[BLOCK_ID] { --label-font-weight: %s; }",unit:""}),(0,t.createElement)(z,{value:_,rule:".wp-block-firebox-countdown.[BLOCK_ID] { --background-color: %s; }",unit:""}),(0,t.createElement)(z,{value:h,rule:".wp-block-firebox-countdown.[BLOCK_ID] { --item-background-color: %s; }",unit:""}),(0,t.createElement)(z,{value:v,rule:".wp-block-firebox-countdown.[BLOCK_ID] { --unit-label-text-color: %s; }",unit:""}),(0,t.createElement)(z,{value:w||"",rule:".wp-block-firebox-countdown.[BLOCK_ID] { --unit-label-margin-top: %s; }",unit:"px"}),(0,t.createElement)(z,{value:k,rule:".wp-block-firebox-countdown.[BLOCK_ID] { --digit-background-color: %s; }",unit:""}),(0,t.createElement)(z,{value:x,rule:".wp-block-firebox-countdown.[BLOCK_ID] { --digit-text-color: %s; }",unit:""}),(0,t.createElement)(z,{value:E||"",rule:".wp-block-firebox-countdown.[BLOCK_ID] { --digit-min-width: %s; }",unit:"px",edgeCase:[{edge:"0",value:"auto",unit:""},{edge:0,value:"auto",unit:""}]}),(0,t.createElement)(z,{value:g,rule:".wp-block-firebox-countdown.[BLOCK_ID] { --item-size: %s; }",unit:"px",edgeCase:[{edge:"0",value:"auto",unit:""}]}),r)};q.propTypes=K;const H=q,U=window.lodash;let G=[];(0,e.registerBlockType)("firebox/countdown",{icon:()=>(0,t.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,t.createElement)("circle",{cx:"24",cy:"27",r:"19.5",stroke:"#2438E9",strokeWidth:"3",fill:"white"}),(0,t.createElement)("path",{d:"M38.9672 25.9998C38.4743 18.5125 32.4875 12.5257 25.0002 12.0328C24.4491 11.9965 24 12.4477 24 13V26C24 26.5523 24.4477 27 25 27H38C38.5523 27 39.0035 26.5509 38.9672 25.9998Z",fill:"#2438E9"}),(0,t.createElement)("path",{d:"M17 3H30",stroke:"#2438E9",strokeWidth:"3",strokeLinecap:"round"}),(0,t.createElement)("path",{d:"M38 12.5L39.5 11",stroke:"#2438E9",strokeWidth:"3",strokeLinecap:"round"})),edit:({attributes:e,setAttributes:r,clientId:o})=>{let c=(0,s.useRef)(null);const u=(0,s.useRef)(null),{uniqueId:d,countdownType:p,value:m,timezone:b,separator:f,doubleZeroesFormat:g,dynamicDays:_,dynamicHours:h,dynamicMinutes:v,dynamicSeconds:w,finishText:k,redirectURL:x,countdownAction:E,format:y,days:C,daysLabel:B,hours:T,hoursLabel:O,minutes:L,minutesLabel:I,seconds:D,secondsLabel:R,theme:N,align:P}=e,{addUniqueID:W}=(0,l.useDispatch)("firebox/data"),{isUniqueID:F,isUniqueBlock:j,parentData:A}=(0,l.useSelect)((e=>({isUniqueID:t=>e("firebox/data").isUniqueID(t),isUniqueBlock:(t,r)=>e("firebox/data").isUniqueBlock(t,r),parentData:{rootBlock:e("core/block-editor").getBlock(e("core/block-editor").getBlockHierarchyRootClientId(o)),postId:e("core/editor")?.getCurrentPostId()?e("core/editor")?.getCurrentPostId():"",reusableParent:e("core/block-editor").getBlockAttributes(e("core/block-editor").getBlockParentsByBlockName(o,"core/block").slice(-1)[0]),editedPostId:!!e("core/edit-site")&&e("core/edit-site").getEditedPostId()}})),[o]);(0,s.useEffect)((()=>{const t=function(e){const{postId:t,reusableParent:r,editedPostId:o}=e,n=function(e,t,r="block-unknown"){return(0,U.has)(t,"ref")?t.ref:e||r}(t,r,0);return 0===n&&o?function(e){for(var t=5381,r=e.length;r;)t=33*t^e.charCodeAt(--r);return t>>>0}(o)%1e6:n}(A);let n=function(e,t,r,o,n="",a=!1){const l=e&&2===e.split("_").length,i=(n?n+"_":"")+t.substr(2,9);return!e||l&&e.split("_")[0]!==n.toString()?r(i)?i:(0,U.uniqueId)(i):r(e)||o(e,t)?e:a?(0,U.uniqueId)(i):i}(d,o,F,j,t);n!==d?(e.uniqueId=n,r({uniqueId:n}),W(n,o)):(r({uniqueId:d}),W(d,o))}),[]),(0,s.useEffect)((()=>{if(!m){let e=new Date;e=new Date(e.setDate(e.getDate()+5));const t=e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)+" "+("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)+":"+("0"+e.getSeconds()).slice(-2);r({value:t})}}),[]);const z=S(d);let M=[{label:(0,a.__)("No action","firebox"),value:"keep"},{label:(0,a.__)("Hide timer","firebox"),value:"hide"},{label:(0,a.__)("Show message","firebox"),value:"message"},{label:(0,a.__)("Redirect to URL","firebox"),value:"redirect"}],K=M;const[q,V]=(0,s.useState)(M);(0,s.useEffect)((()=>{if(function(e){if(!m)return;if("dynamic"==e.countdownType){if(!K.some((e=>{if("restart"==e.value)return!0}))){let e=M;e.splice(2,0,{label:(0,a.__)("Restart the countdown","firebox"),value:"restart"}),V(e)}}else V(M);c.current&&c.current.countdown.instance.stop(),G&&localStorage.removeItem(G);const t="static"==p&&"server"==u.current.dataset.timezone?fbox_admin_editor_js_object.timezone:"";let r=m;"string"!=typeof r&&(r=r.toString()),r&&(r=r.replace("Z","")),u.current.dataset.value=r+t,u.current.addEventListener("onFPFCountdownFinish",(function(e){e.preventDefault()})),c.current=new FPF_Countdown_Widget(u.current).start(),c.current.countdown.classList.remove("showing-message"),c.current.countdown.classList.remove("fpf-hidden"),c.current.countdown.classList.remove("done"),G!=c.current.countdown.instance.getDynamicLocalStorageKey()&&(G=c.current.countdown.instance.getDynamicLocalStorageKey())}(e),c.current)return()=>{c.current.countdown.instance.deleteDynamicLocalStorageItem()}}),[e]);const Z=(0,i.useBlockProps)({className:n()({"wp-block":!0})});return(0,t.createElement)("div",{...Z},(0,t.createElement)(H,{attributes:e}),(0,t.createElement)("div",{className:`wp-block-firebox-countdown ${z} fpf-widget fpf-countdown ${N} ${P}`,ref:u,"data-countdown-type":p,"data-value":m,"data-timezone":b,"data-dynamic-days":_,"data-dynamic-hours":h,"data-dynamic-minutes":v,"data-dynamic-seconds":w,"data-finish-text":k,"data-redirect-url":x,"data-countdown-action":E,"data-format":y,"data-days":C,"data-days-label":B,"data-hours":T,"data-hours-label":O,"data-minutes":L,"data-minutes-label":I,"data-seconds":D,"data-seconds-label":R,"data-separator":f,"data-double-zeroes-format":g,"data-theme":N}),(0,t.createElement)($,{attributes:e,setAttributes:r,actions:q}))},save:()=>null})})()})();