jQuery(document).on("change",".awcdp-deposits-wrapper input[name='awcdp_deposit_option']",(function(e){e.preventDefault(),$container=jQuery(this).closest(".awcdp-deposits-wrapper"),"yes"==jQuery(this).val()?$container.find(".awcdp-deposits-payment-plans, .awcdp-deposits-description").slideDown(200):$container.find(".awcdp-deposits-payment-plans, .awcdp-deposits-description").slideUp(200)})),jQuery(document).ready((function(){$container=jQuery(".awcdp-deposits-wrapper"),"no"==jQuery('input[name="awcdp_deposit_option"]:checked').val()&&$container.find(".awcdp-deposits-payment-plans, .awcdp-deposits-description").slideUp(200)})),jQuery(document).on("click",".awcdp-toggle",(function(e){e.preventDefault();let a=jQuery(this);a.find(".awcdp-plan-radio").prop("checked",!0),a.next().hasClass("awcdp-show")?(a.next().removeClass("awcdp-show"),a.removeClass("awcdp-active"),a.next().slideUp(350)):(a.parent().parent().find("li .awcdp-plan-details").removeClass("awcdp-show"),a.parent().parent().find("li .awcdp-toggle").removeClass("awcdp-active"),a.parent().parent().find("li .awcdp-plan-details").slideUp(350),a.next().toggleClass("awcdp-show"),a.toggleClass("awcdp-active"),a.next().slideToggle(350))})),jQuery(document).ready((function(e){jQuery(".wcpa_form_outer").on("wcpa.price_updated",(function(){var e=jQuery(this).data("wcpa").price.total;awcdp_update_deposit_wcpa({product_id:jQuery(this).data("product").product_id,price:e})}))}));var currentRequests=null;function awcdp_update_deposit_wcpa(e){if(e.product_id){$form=jQuery("form.cart"),$container=$form.find(".awcdp-deposits-wrapper ");var a=jQuery('input[name="awcdp_deposit_option"]:checked').val();jQuery("form.cart .awcdp-deposits-wrapper ").block({message:null,overlayCSS:{background:"#fff",backgroundSize:"16px 16px",opacity:.6}}),req_data={action:"awcdp_update_deposit_form",product_id:e.product_id,price:e.price},currentRequests=jQuery.ajax({url:AWCDPSettings.ajaxurl,type:"POST",data:req_data,dataType:"json",beforeSend:function(){null!=currentRequest&&currentRequests.abort()},success:function(e){$container.replaceWith(e.data.html),jQuery('input[name=awcdp_deposit_option][value="'+a+'"]').prop("checked",!0).trigger("change"),setTimeout((function(){jQuery("form.cart").unblock()}),500)}})}}jQuery(".single_variation_wrap").on("show_variation",(function(e,a){jQuery(this).parent(".variations_form").attr("data-product_id");awcdp_update_deposit({product_id:a.variation_id})}));var currentRequest=null;function awcdp_update_deposit(e){e.product_id&&($form=jQuery("form.variations_form.cart"),$container=$form.find(".awcdp-deposits-wrapper "),jQuery("form.variations_form.cart").block({message:null,overlayCSS:{background:"#fff",backgroundSize:"16px 16px",opacity:.6}}),req_data={action:"awcdp_update_deposit_form",product_id:e.product_id,price:e.price},currentRequest=jQuery.ajax({url:AWCDPSettings.ajaxurl,type:"POST",data:req_data,dataType:"json",beforeSend:function(){null!=currentRequest&&currentRequest.abort()},success:function(e){$container.replaceWith(e.data.html),jQuery("form.variations_form.cart").unblock()}}))}
